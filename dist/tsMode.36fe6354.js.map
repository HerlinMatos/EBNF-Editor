{"version":3,"sources":["node_modules/monaco-editor/esm/vs/language/typescript/workerManager.js","node_modules/monaco-editor/esm/vs/language/typescript/languageFeatures.js","node_modules/monaco-editor/esm/vs/language/typescript/tsMode.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","WorkerManager","modeId","defaults","_this","_modeId","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","_updateExtraLibsToken","_extraLibsChangeListener","onDidExtraLibsChange","_updateExtraLibs","prototype","dispose","_client","clearInterval","myToken","proxy","_a","getProxy","updateExtraLibs","getExtraLibs","maxIdleTime","getWorkerMaxIdleTime","timePassedSinceLastUsed","Date","now","_getClient","monaco","editor","createWebWorker","moduleId","createData","compilerOptions","getCompilerOptions","extraLibs","p","getEagerModelSync","worker","withSyncedResources","getModels","filter","model","getModeId","map","uri","getLanguageServiceWorker","resources","_i","arguments","client","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","hasOwnProperty","__","constructor","create","Uri","Range","IndentStyle","flattenDiagnosticMessageText","diag","newLine","indent","undefined","i","messageText","kid","displayPartsToString","displayParts","displayPart","text","join","Adapter","_positionToOffset","position","getModel","getOffsetAt","_offsetToPosition","offset","getPositionAt","_textSpanToRange","span","p1","start","p2","startLineNumber","lineNumber","startColumn","column","endLineNumber","endColumn","DiagnostcsAdapter","_super","_selector","_disposables","_listener","onModelAdd","handle","changeSubscription","onDidChangeContent","clearTimeout","setTimeout","_doValidate","toString","onModelRemoved","setModelMarkers","key","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","recomputeDiagostics","forEach","resource","promises","getDiagnosticsOptions","noSyntaxValidation","noSemanticValidation","getSyntacticDiagnostics","getSemanticDiagnostics","all","diagnostics","markers","reduce","c","concat","_convertDiagnostics","err","console","error","_b","severity","MarkerSeverity","Error","message","SuggestAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","_context","token","wordInfo","getWordUntilPosition","wordRange","getCompletionsAtPosition","info","suggestions","entries","entry","range","replacementSpan","name","insertText","sortText","kind","convertKind","resolveCompletionItem","_model","_position","item","myItem","getCompletionEntryDetails","details","detail","documentation","Kind","primitiveType","keyword","languages","CompletionItemKind","Keyword","variable","localVariable","Variable","memberVariable","memberGetAccessor","memberSetAccessor","Field","function","memberFunction","constructSignature","callSignature","indexSignature","Function","enum","Enum","module","Module","class","Class","interface","Interface","warning","File","Property","SignatureHelpAdapter","signatureHelpTriggerCharacters","provideSignatureHelp","getSignatureHelpItems","ret","activeSignature","selectedItemIndex","activeParameter","argumentIndex","signatures","items","signature","parameters","prefixDisplayParts","a","parameter","separatorDisplayParts","suffixDisplayParts","QuickInfoAdapter","provideHover","getQuickInfoAtPosition","tags","tag","match","contents","textSpan","OccurrencesAdapter","provideDocumentHighlights","getOccurrencesAtPosition","isWriteAccess","DocumentHighlightKind","Write","Text","DefinitionAdapter","provideDefinition","getDefinitionAtPosition","entries_1","parse","fileName","ReferenceAdapter","provideReferences","context","getReferencesAtPosition","entries_2","OutlineAdapter","provideDocumentSymbols","getNavigationBarItems","convert","bucket","containerLabel","outlineTypeTable","SymbolKind","spans","selectionRange","containerName","childItems","child","unknown","script","type","localFunction","constructorImplementation","typeParameter","alias","const","let","Method","FormatHelper","_convertOptions","options","ConvertTabsToSpaces","insertSpaces","TabSize","tabSize","IndentSize","Smart","NewLineCharacter","InsertSpaceAfterCommaDelimiter","InsertSpaceAfterSemicolonInForStatements","InsertSpaceBeforeAndAfterBinaryOperators","InsertSpaceAfterKeywordsInControlFlowStatements","InsertSpaceAfterFunctionKeywordForAnonymousFunctions","InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis","InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets","InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces","PlaceOpenBraceOnNewLineForControlBlocks","PlaceOpenBraceOnNewLineForFunctions","_convertTextChanges","change","newText","FormatAdapter","provideDocumentRangeFormattingEdits","getFormattingEditsForRange","edits","edit","FormatOnTypeAdapter","provideOnTypeFormattingEdits","ch","getFormattingEditsAfterKeystroke","RenameAdapter","provideRenameEdits","newName","renameInfo","renameLocations","fileNameToResourceTextEditMap","renameLocations_1","renameLocation","resourceTextEdit","getRenameInfo","allowRenameOfImportPath","canRename","rejectReason","localizedErrorMessage","fileToRename","findRenameLocations","javaScriptWorker","typeScriptWorker","setupTypeScript","setupMode","setupJavaScript","getJavaScriptWorker","getTypeScriptWorker","first","more","registerCompletionItemProvider","languageFeatures","registerSignatureHelpProvider","registerHoverProvider","registerDocumentHighlightProvider","registerDefinitionProvider","registerReferenceProvider","registerDocumentSymbolProvider","registerDocumentRangeFormattingEditProvider","registerOnTypeFormattingEditProvider","registerRenameProvider"],"mappings":"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SzGC,KAAT,CAAeC,KAAf,EAAsB;AAAE,WAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;AAAEA,ACCnFA,AFTAI,IESAJ,AFTAI,ECQmFJ,EDR/E,CAAC,CAACH,CESC,CAAC0W,CDDkF,CAACxW,KAAD,ADR3E,CCQoE,EDRjEF,MESX,CAAP,EFT2B,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;ACQoG,ACEvG,AFTA,GEIM,AFTA,CESP,AFTA,CCY4D,CAApC;AAAoF,ACG/G,AFTA,CARD;;ACeI,ACGG,AFTP,IAAIO,KCMO,ACGKiW,KDHAjX,CAAC,ADNF,GAAI,ECMGA,CAAC,GAAGK,ICGnB,AFToB,GCMV,ACGqB,CDH3B,EAAyB,GDNJW,OCMcZ,IDN5B,GCMkB,CDNY,CCMOE,MAAnB,EAA2B,CDNLR,OAAV,EAAmBmB,IAAnB,EAAyB;ACOjE,ACGJ,AFTA,MAAIC,CAAC,EESE,CFTC,GCMKX,ACGFF,OAAJ,CAAY,CDHf,CAAmBF,KAAnB,EAA0B,CCGDC,OAAV,EAAmBE,MAAnB,EAA2B;ADHd,ACI5B,AFVMa,IAAAA,IEUF,CAACyV,AFVM,CCMqB,CDNnB,CAAT,aEUJ,EAAuB;ADJWpW,ACK9B,AFXYY,IAAAA,ICMkBZ,ADNd,EAAE,ECMgB,CAACP,ACK5BK,MAAM,CAAC,EDL8B,ADNf,CCMgBG,IAAV,CAAeN,KAAf,CAAD,CAAJ,aCKjB,CAAb;ADL4D,ACM/D,AFZkC,OCMP,CAAqC,EDN1BkB,CAAC,CAAC,CAAD,CAAD,CCMiCX,CAAP,CDNnB,CCM6B,ADNxC,EAAc,MAAMW,CAAC,CAAC,CAAD,CAAP;ACM4Bf,ADNhB,QCMgBA,KDNTe,CCMe,ADNd,CCMeX,ADNd,CCMa,ADNd,CCMQ,ADNhB;ACM4B,ACOzFN,AFb2E,IEa3EA,CFbI,MEaG,CAACwW,gBAAD,CAAP;ADP2F,ACQ9F,AFdgFtV,GES1E,CAAP,AFTiFA,IAAI,EAAE,EAA/E;AEeX,AFf8FC,IAAAA,GAAG,EAAE;ACO5F,ADPI,GAAR,UCOaZ,QAAT,CAAkBR,KAAlB,EAAyB;AAAE,ACSnC,AFhBI,MAAsGqB,CAAtG,EEgBKsV,CDT8B,QCSvC,CAAmBtU,QAAnB,EAA6BD,MAA7B,EAAqC;ADTI/B,ACUrC,AFjBA,MEiBIsF,AFjBqGrE,CAAzG,CCOqCjB,IAAI,ACU/B,CDVgCP,ECU7B,IAAIqC,GDVkC,CAAC,OAAD,CAAT,CAAmBnC,KAAnB,CAAD,CAAJ,QCUxB,CAAkBoC,MAAlB,EAA0BC,QAA1B,CAAb;ADVuE,ADPvE,MAA4GnB,CCO7E,ADP/B,CCOwE,OAAOX,CAAP,EAAU;AAAEJ,ACWpF,AFlBA,MEkBI4E,AFlB2GxD,CAA/G,CCOoFpB,ICW1E,EDXgF,CAACI,ACW9E,CDX6E,CAAN,QCW7DwW,KAAV,EAAiB;ADXkE,ACY5F,AFlBJ,QEkBQC,CFlBDzV,CAAC,EEkBI,CFlBD,EEkBI,EAAX;ADZ8F,ADNrFjB,IAAAA,IAAI,EAAEkB,IAAI,CAAC,CAAD,CAAZ;AEmBP,AFnBwB,SEmBnB,IAAIiE,AFnBwBjE,EEmBtB,EFnB0B,CEmBvB,AFnBwB,CEmBtC,AFnBqC,CAA9B,CEmBUiE,EAAE,GAAGC,SAAS,CAACzD,MAAhC,EAAwCwD,EAAE,EAA1C,EAA8C;ADZ9C,ACaIuR,AFpBsC,MEoBtCA,IAAI,CAACvR,EDbApF,ACaE,CFpByCmB,EEoBtC,CDbd,ACaQ,CDbMf,ACaV,AFpBoD,CAAC,CAAD,CEoBrCiF,GDbnB,EAAsB,ICaM,CAACD,EAAD,CAAxB;ADboBhF,ACcvB,AFrBM,GAAJ,EAA4D,CCOvCA,MAAM,ADPwCgB,CCOvCf,IAAP,CDPuC,ECOzBT,GDP2C,ICOpC,CAACQ,KDPiB,CCOX,CAACT,GDP2CuB,CAAC,CCOpD,ADPqDE,CCO1E,GAAsC1B,EDP0C,CAAC2B,ECOtC,CAACjB,KDP6B,CCOvB,ADPsB,CCOrBT,EDP0C,GCOlD,CAAL,CAAoBW,IAApB,CAAyBP,EDPyC,OCOlE,EAAoCI,QAApC,CAAtC;AAAsF,ADPoB,WAAO,IAAP;AEsBlI,AFtBgJ,GAAjF,CAA5D,EAAgJe,CAAvJ,IEsBWoE,MAAM,CAACJ,wBAAP,CAAgC3E,KAAhC,CAAsC+E,MAAtC,EAA8C,CAACoR,KAAD,EAAQlM,MAAR,CAAemM,IAAf,CAA9C,CAAP;ADdA3W,ACeH,GAND,CDTIA,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;AACH,ADRD,GCGO,CAAP,ODHSkB,IAAT,CAAcG,CAAd,EAAiB;ACSpB,ACcG0C,AFvBmB,CCCvB,CCsBIA,MAAM,CAACqJ,EFvBmB,OEuB1B,CAAiBuJ,EFvBmBrV,CAAV,EAAa,yBEuBvC,CAAgDQ,MAAhD,EAAwD,IAAI8U,gBAAgB,CAAC3L,cAArB,CAAoCxG,MAApC,CAAxD;AACAV,AFxByC,EEwBzCA,MAAM,CAACqJ,IFxByCrN,IAAI,CEwBpD,AFxBqD,CEwBpC8W,AFxBqCxV,CAAD,EAAIC,CAAJ,CAAD,CAAX,uBEwBzC,CAA+CQ,MAA/C,EAAuD,IAAI8U,gBAAgB,CAAC7H,oBAArB,CAA0CtK,MAA1C,CAAvD;ADdJ,ACeIV,AFzB+D,EEyB/DA,EDfAxD,CDVmB,GEyBb,CAAC6M,MDfI,GAAI,ACef,CAAiB0J,SDfM,SAAKvW,GCe5B,CAAuCuB,MAAvC,CDfc,CCeiC,GDfH,CCeO8U,SDfGvX,OAAV,ACeuB,CAAC4Q,CDfLzP,IAAnB,EAAyB,SCetB,CAAsCiE,MAAtC,CAA/C;ADdA,ACeAV,AF1BkE,EE0BlEA,IDfItD,CAAC,CCeC,CAAC2M,CDfC,QCeR,CAAiB2J,iCAAjB,CAAmDjV,MAAnD,EAA2D,IAAI8U,gBAAgB,CAACnG,kBAArB,CAAwChM,MAAxC,CAA3D;ADfU/D,ACgBVqD,EAAAA,EDhBUrD,ICgBJ,CDhBS,ACgBR0M,EDhBU,CAAT,MCgBR,CAAiB4J,0BAAjB,CAA4ClV,MAA5C,EAAoD,IAAI8U,gBAAgB,CAAC5F,iBAArB,CAAuCvM,MAAvC,CAApD;ADhBoB9D,ACiBpBoD,AF3BA,EE2BAA,EDjBoBpD,IAAI,ACiBlB,CAACyM,CDjBmB,CDVjBrN,IAAT,CAAcwB,EE2Bd,AF3BA,CE2BiB0V,CF3BC,ECUmB,sBCiBrC,CAA2CnV,MAA3C,EAAmD,IAAI8U,gBAAgB,CAACtF,gBAArB,CAAsC7M,MAAtC,CAAnD;ADjBuC,ACkBvCV,AF3BI,EE2BJA,MAAM,AF3BEhD,CE2BDqM,AF3BH,CCSuCxM,CAAC,ADTjC,CCSkC,CAAD,CAAD,GAAO,ADTjC,CCSsB,ACkBvC,CAAiBsW,CDlBoC,CDThC1V,KCSsCZ,CAAC,CAAC,CAAD,CAAP,ADTpC,CAAc,kBE2B/B,CAAgDkB,MAAhD,EAAwD,IAAI8U,EF3B3C,CAAN,aE2BiE,CAACjF,cAArB,CAAoClN,MAApC,CAAxD;ADlBiE,ACmBjEV,EAAAA,MAAM,CAACqJ,IDnBiExM,CAAC,CAAC,CAAD,CAAR,CCmBjE,CAAiBuW,2CAAjB,CAA6DrV,MAA7D,EAAqE,IAAI8U,gBAAgB,CAACnC,aAArB,CAAmChQ,MAAnC,CAArE;ADnB+E,ACoB/EV,AF5BI,EE4BJA,GDpBQ,GCoBF,CAACqJ,EF5BI3M,CAAP,EAAU,IE4Bd,AF5BkB,CE4BD2W,oCAAjB,CAAsDtV,MAAtD,EAA8D,IAAI8U,gBAAgB,CAAC9B,mBAArB,CAAyCrQ,MAAzC,CAA9D;ADpBiF5D,ACqBjFkD,AF5BQ,EE4BRA,EDrBiFlD,IAAI,ACqB/E,CAACuM,CDrBgF,ADP3ErM,CAAC,CCOL,EDPQ,CAAJ,EAAOC,CE4BnB,AF5BoB,CE4BHqW,IF5BQzW,CAAC,GAAGW,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYP,CAAC,CE4B1C,AF5B2C,CE4BHc,MAAxC,CF5B0C,CE4BM,AF5BnB,GAA0BP,CE4BHqV,CF5BK,CAAC,CAAD,CAAF,GAAQ5V,CAAC,CAAC,OE4BG,AF5BJ,CE4BKkU,AF5BN,KAAe,CAACtU,CAAC,GAAGI,CAAC,CAAC,CE4BrC,CAAmCyD,MAAnC,AF5BoC,CE4BpF,AF5B8E,KAAqB7D,CAAC,CAACa,IAAF,CAAOT,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAAChB,IAAjG,CAAD,IAA2G,CAAC,CAACY,CAAC,GAAGA,CAAC,CAACa,IAAF,CAAOT,CAAP,EAAUO,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBnB,IAA9I,EAAoJ,OAAOQ,CAAP;ACOjEE,ACsB3F,AF5BQ,ICMmFA,ECsBvF8V,CDtB0F,EAAE,CDNpF5V,CAAC,GAAG,CAAJ,EAAOJ,CAAX,EAAcW,EE4BF,AF5BI,CE4BH8G,EF5BM,CAAC9G,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAYX,CAAC,CAAClB,CE4BzC,CAAuCqC,GF5BZ,CAAL,IE4BtB,EAAiDD,MAAjD,EAAyD2C,MAAzD;ADtBQ,ACuBR,GDvBA,MCuBOA,MAAP;ADvBA,ACwBH,AF7BW,MCK8F1D,CAAtG,ODLgBQ,EAAE,CAAC,CAAD,CAAV;ACKR,ADJY,MCI6FP,CAAzG,MDJiB,CAAL;ACIZ,ADJoB,MCIwFJ,CAA5G,MDJyB,CAAL;ACIpB,ADJ4BA,MCImFK,CAA/G,GDJ4BL,CAAC,GAAGW,EAAJ;ACK5B,ADLoC,SCK7BN,CAAC,GAAG;AAAEjB,IAAAA,IAAI,EAAEkB,IAAI,CAAC,CAAD,CAAZ;AAAiB,ADJhB,aCIyBA,ADJpB,CAAL,GCI6B,CAAC,CAAD,CAA9B;AAAmC,ADJ1BT,UAAAA,CAAC,CAACC,ECIkCQ,GDJpC,CCIwC,CAAC,CAAD;AAAjD,ADJoB,GCIxB,EAA4D,OAAOC,KDJpC,CCI6B,KAAkB,UAAlB,KAAiCF,CAAC,CAACE,MAAM,CAACC,QAAR,CAAD,GAAqB,YAAW;AAAE,ADJ9F1B,WCIqG,CDJrGA,GCI8F,EDJzF,EAAE6B,EAAE,CAAC,CAAD,CAAX;ACI8G,ADJ9FnB,GCIa,CAA5D,EAAgJa,CAAvJ,KDJsDb,IAAI,EAAE;AAAtB,WAAP;ACK/B,WAASc,IAAT,CAAcG,CAAd,EAAiB;AAAE,ADJP,WCIc,EDJT,CAAL,OCIwBC,CAAV,EAAa;AAAE,ADJrBb,UAAAA,CAAC,CAACC,CCI0BX,IAAI,ADJhC,CCIiC,CAACsB,CAAD,EAAIC,CAAJ,CAAD,CAAX;AAAsB,ADJhCN,KCIZ,KDJYA,CAAC,GAAGO,EAAE,CAAC,CAAD,CAAN;ACImC,ADJxBA,UAAAA,EAAE,GAAG,CAAC,CAAD,CAAL;AAAU;ACKpD,WAASxB,IAAT,CAAcwB,EAAd,EAAkB;AACd,ADLQ,QCKJR,CAAJ,EAAO,EDLM,CAAL,GCKK,IAAIS,SAAJ,CAAc,iCAAd,CAAN;ADLSD,UAAAA,EAAE,GAAGd,CAAC,CAACK,GAAF,CAAMY,GAAN,EAAL;ACMhB,WAAOjB,CAAP,EAAU,IAAI;AACV,ADP8BA,UCO1BM,ADP0BN,CCOzB,ADP0B,CAACI,ECOxB,CAAJ,CDP0B,CCOnBG,ADP0BU,CCOzB,EDPkB,GCObd,CAAC,GAAGW,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYP,CAAC,CAAC,QAAD,CAAb,GAA0BO,EAAE,CAAC,CAAD,CAAF,GAAQP,CAAC,CAAC,OAAD,CAAD,KAAe,CAACJ,CAAC,GAAGI,CAAC,CAAC,QAAD,CAAN,KAAqBJ,CAAC,CAACa,IAAF,CAAOT,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAAChB,IAAjG,CAAD,IAA2G,CAAC,CAACY,CAAC,GAAGA,CAAC,CAACa,IAAF,CAAOT,CAAP,EAAUO,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBnB,IAA9I,EAAoJ,OAAOQ,CAAP;AACpJ,UAAII,CAAC,GAAG,CAAJ,EAAOJ,CAAX,EAAcW,EAAE,GAAG,CAACA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAYX,CAAC,CAAClB,KAAd,CAAL;ADR8B;ACS5C,cAAQ6B,EAAE,CAAC,CAAD,CAAV;AACI,ADTA,aCSK,CAAL;AAAQ,ADRJ,aCQS,CAAL,ADRA,EAAEX,CAAC,GAAGH,CAAC,CAACI,IAAN,EAAYD,CAAC,GAAGA,CAAC,CAACe,MAAF,GAAW,CAAX,IAAgBf,CAAC,CAACA,CAAC,CAACe,MAAF,GAAW,CAAZ,CAAnC,MAAuDJ,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;ACQ5EX,ADR8EH,UCQ9EG,CAAC,CDR6EH,CAAC,CCQ3Ec,EAAJ,ADRkF,CAAJ;ACQtE,ADR6E;AAAW;ACShH,aAAK,CAAL;AAAQd,ADRJ,UCQIA,CAAC,CAACC,EDRFa,EAAE,CCQF,ADRG,CAAD,CAAF,KAAU,CAAV,KAAgB,CAACX,CAAD,IAAOW,EAAE,CAAC,CAAD,CAAF,GAAQX,CAAC,CAAC,CAAD,CAAT,IAAgBW,EAAE,CAAC,CAAD,CAAF,GAAQX,CAAC,CAAC,CAAD,CAAhD,CAAJ,EAA2D;ACQ5C,ADR8CH,YAAAA,CAAC,CAACC,GCQzC,EDRuC,GAAUa,EAAE,CAAC,CAAD,CAAZ;ACQrC7B,ADRsD,YCQtDA,KAAK,EAAE6B,EAAE,CAAC,CAAD,CAAX;AAAgBnB,ADRgD,YCQhDA,IAAI,EAAE;AAAtB,WAAP;ADPf,cAAImB,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAed,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAA9B,EAAmC;ACQvC,ADRyCH,YAAAA,CCQpC,ADRqC,CCQ1C,ADR2CC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;ACQjCH,ADRiDG,UCQjDH,CAAC,CAACC,ADR+CE,CAAC,GAAGW,CCQrD,CDRiD;ACQtCP,ADR8C,UCQ9CA,CAAC,GAAGO,EAAE,CAAC,CAAD,CAAN;AAAWA,ADR2C,UCQ3CA,EAAE,GAAG,CAAC,CAAD,CAAL;AAAU;ADPpC,cAAIX,CAAC,IAAIH,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAApB,EAAyB;ACQ7B,ADR+BH,YAAAA,CCQ1B,ADR2B,CCQhC,ADRiCC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;ACQvBW,UAAAA,EAAE,GAAGd,CAAC,CAACK,GAAF,CAAMY,GAAN,EAAL;ADRuCjB,YAAAA,CAAC,CAACK,GAAF,CAAMc,IAAN,CAAWL,EAAX;ACQrBd,UAAAA,CAAC,CAACI,IAAF,CAAOa,GAAP;ADRqC;ACQvB,ADR+B;;ACSvE,ADRI,cAAId,CAAC,CAAC,CAAD,CAAL,EAAUH,CAAC,CAACK,GAAF,CAAMY,GAAN;ACSV,cAAI,EAAEd,CAAC,GAAGH,CAAC,CAACI,IAAN,EAAYD,CAAC,GAAGA,CAAC,CAACe,MAAF,GAAW,CAAX,IAAgBf,CAAC,CAACA,CAAC,CAACe,MAAF,GAAW,CAAZ,CAAnC,MAAuDJ,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;AAAEd,ADR1FA,UAAAA,CAAC,CCQyFA,ADRxFI,CCQyF,GAAG,ADR9F,CCQ0F,ADRnFa,GAAP;ACQiG;AAAW,ADR9F;AAXtB;ACoBQ,cAAIH,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,KAAgB,CAACX,CAAD,IAAOW,EAAE,CAAC,CAAD,CAAF,GAAQX,CAAC,CAAC,CAAD,CAAT,IAAgBW,EAAE,CAAC,CAAD,CAAF,GAAQX,CAAC,CAAC,CAAD,CAAhD,CAAJ,EAA2D;AAAEH,ADPrEc,MAAAA,EAAE,GAAGf,CCOgEC,CAAC,CAACC,CDP9D,CAACe,GCO2D,CDPhE,CAAUpC,CCOgEkC,EAAE,CAAC,CAAD,CAAZ,CDPhE,EAAmBd,CAAnB,CAAL;ACOsF,ADNzF,KAjBS,CAiBR,OAAOR,CAAP,EAAU;ACMsF,ADNpFsB,MAAAA,EAAE,GAAG,CAAC,CAAD,EAAItB,CAAJ,CAAL;AAAae,MAAAA,CAAC,GAAG,CAAJ;ACOf,ADPuB,KAjBzB,SCwBMO,ADP4B,ECO1B,CAAC,CAAD,CAAF,KAAU,CAAV,IAAed,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAA9B,EAAmC;AAAEH,ADPHM,MAAAA,CAAC,GAAGH,CAAC,CCOFH,CAAC,CAACC,ADPG,CAAR,ICOG,GAAUE,CAAC,CAAC,CAAD,CAAX;AAAgBA,ADPP,YCOOA,CAAC,GAAGW,EAAJ;AAAQ;AAAQ,ADNjF,QAAIA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMA,EAAE,CAAC,CAAD,CAAR;AAAa,WAAO;ACOvB,ADPyB7B,MAAAA,KAAK,EAAE6B,CCO5BX,CAAC,ADP6B,CAAC,CAAD,CAAF,CCOvBH,CAAC,CAACC,ADP6Ba,EAAE,CAAC,CAAD,CCOjC,ADPuB,GCObX,ADP6B,CCO5B,CAAC,CAAD,CAApB,CDPqD,CCO5B,ADPF;ACOIH,ADP6BL,MAAAA,IAAI,ECOjCK,ADPmC,CCOlC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;ADPJ,KAAP;ACO2BH,ADN1D,YCM0DA,CAAC,CAACK,GAAF,CAAMc,IAAN,CAAWL,EAAX;ADL9D,CA1BD;AC+B+E;AAAQ,ADJvF,IAAIM,aAAa;AAAG;ACKA,ADLe,YAAY,ECKvBjB,CAAC,CAAC,CAAD,CAAL,EAAUH,CAAC,CAACK,GAAF,CAAMY,GAAN;ADJ1B,WAASG,aAAT,CAAuBC,MAAvB,EAA+BC,QAA/B,EAAyC;ACKzBtB,ADJZ,QAAIuB,ECIQvB,CAAC,CAACI,CDJL,GCIG,ADJA,CCIOa,GAAP,ADJZ;;ACI0B,ADH1B,SAAKO,OAAL,GAAeH,MAAf;ACRI,ADSJ,SAAKI,SAAL,GAAiBH,QAAjB;AACA,SAAKI,OAAL,GAAe,IAAf;ACGIZ,ADFJ,MCEIA,EAAE,CDFDa,ECEI5B,IAAI,CAACiB,IAAL,CAAUpC,MDFnB,CCES,EAAmBoB,ADFF4B,CCEjB,CAAL,SDFiC,CAAC,YAAY;ACGjD,ADHmD,KCd1C,CAiBR,OAAOpC,ADHkD+B,CCGzD,EAAU,EDHoD,CAACM,YAAN,EAAP;ACGtCf,ADHoE,KAA7C,CCGvBA,CDHsE,CCGpE,GAAG,CAAC,ADHqE,CCGtE,EAAItB,CAAJ,ADHkB,CCGvB,ADHd;ACG2Be,ADF3B,MCE2BA,CAAC,EDFvBuB,CCE0B,CAAJ,WDF3B,GAAqB,CAArB;ACEmC,ADDnC,KChBU,IDgBLC,KCCuC,gBDD5C,GAA6B,KAAKN,SAAL,CAAeO,WAAf,CAA2B,YAAY;ACCtB1B,ADDwB,MCCxBA,CAAC,GAAGH,CAAC,EDD0BoB,CCCvB,CAAR,GDDoC,CAACU,WAAN,EAAP;ACCZ,ADDyC,KAAtE,CAA7B;AACA,SAAKC,qBAAL,GAA6B,CAA7B;ACCA,ADAA,QCAIpB,CDACqB,CCAC,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMrB,EAAE,CAAC,CAAD,CAAR,GDAf,GAAgC,KAAKW,SAAL,CAAeW,oBAAf,CAAoC,YAAY;ACApD,ADAsD,WCA/C,EDAsDb,KAAK,CAACc,gBAAN,EAAP;ACA7CpD,ADA+E,KAApF,CCAKA,ADArC,KCA0C,EAAE6B,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAV,GAAgB,KAAK,CAA9B;AAAiCnB,ADCvE,MCDuEA,IAAI,EAAE;AAAvC,KAAP;AAC/B,ADCDyB,EAAAA,aAAa,CAACkB,SAAd,CAAwBL,WAAxB,GAAsC,YAAY;ACArD,ADCO,CC3BR,OD2BY,KAAKP,OAAT,EAAkB;AACd,WAAKA,OAAL,CAAaa,OAAb;ACDZ,IAAIkD,GAAG,GAAGnC,MAAM,CAACmC,GAAjB;AACA,ADCY,ICDRC,KAAK,EDCQhE,CCDL4B,MAAM,ADCN,CCDOoC,EDCQ,GCD3B,CDCY,CCAZ;ADCS;ACAT,IAAIC,WAAJ;ADCQ,SAAKnD,OAAL,GAAe,IAAf;ACAR,ADCK,CCDJ,EDLG,QCKOmD,WAAV,EAAuB;AACpBA,EAAAA,WAAW,CAACA,WAAW,CAAC,MAAD,CAAX,GAAsB,CAAvB,CAAX,GAAuC,MAAvC;AACAA,ADAAvE,ECAAuE,ADAAvE,WCAW,CAACuE,CDAC,CAACrD,SCAS,ADAvB,CCAwB,ADAAC,OCAD,ADAvB,CCAY,EDAsB,CCAC,CAAxB,CAAX,GAAwC,MDAM,CCA9C;AACAoD,ADAIlD,ECAJkD,EDAIlD,SCAO,CAACkD,GDAK,CAAC,KAAKhE,ECAA,CAAC,OAAD,CAAX,GAAuB,CAAxB,CAAX,EDAiB,CCAuB,ADApC,OCAJ;AACH,CAJD,EAIGgE,WAAW,KAAKA,WAAW,GAAG,EAAnB,CAJd;ADIQ,SAAK5D,qBAAL,CAA2BQ,OAA3B;ACCD,SAASqD,4BAAT,CAAsCC,IAAtC,EAA4CC,OAA5C,EAAqDC,MAArD,EAA6D;AAChE,ADDI,MCCAA,GDDK5D,GCCC,KAAK,KAAK,CAApB,EAAuB,QDDnB,CAA8BI,OAA9B;ACCqBwD,IAAAA,MAAM,GAAG,CAAT;AAAa,ADAlC,SAAK9D,WAAL;AACH,GALD;ACKA,MAAI,OAAO4D,IAAP,KAAgB,QAApB,EAA8B;AAC1B,ADAJzE,EAAAA,SCAWyE,IAAP,ADAS,CAACvD,SAAd,CAAwBD,gBAAxB,GAA2C,YAAY;ACCtD,ADAG,GCFJ,MAGK,EDDM1D,ECCFkH,IAAI,GDDO,CAAC,CCCHG,GDDE,EAAO,ICCtB,CDD2B,CCCH,ADDT,EAAe,KAAK,CAApB,EAAuB,YAAY;ACEnD,ADDI,UAAItD,CCCD,EAAP,IDDI,EAAaC,KAAb;ACEP,ADDO,aAAO7C,WAAW,CAAC,IAAD,EAAO,UAAU8C,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAAC3C,KAAX;ACCZ,ADAgB,MCAZP,MAAM,GAAG,ADAQ,CAAL,CCAhB;ADCoB,gBAAI,CAAC,KAAKgC,OAAV,EAAmB;ACAvC,ADCwB,MCDpBqE,MAAJ,EAAY,ODCmB,CAAC;ACA5BrG,ADA8B,ICA9BA,MAAM,IAAIoG,OAAV;ADA2B,eAAP;ACCpB,ADAiB,SCAZ,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAApB,EAA4BE,CAAC,EAA7B,EAAiC;AAC7BvG,MAAAA,MAAM,IAAI,IAAV;AACH,ADDegD,YAAAA,OAAO,GAAG,EAAE,KAAKR,qBAAjB;ACEnB,ADDmB,mBAAO,CAAC;AAAE;ACE9BxC,ADF2B,ECE3BA,MAAM,IAAImG,EDF+B,ECE3B,CAACK,EDF+BxE,OAAL,CAAamB,CCEtD,ODFyC,EAAd,CAAP;ACGpBkD,EAAAA,MAAM;ADFU,eAAK,CAAL;ACGhB,ADFoBpD,MCEhBkD,IAAI,CAACtG,CDFWoD,GCEpB,EAAe,ADFU,GAAGC,EAAE,CAAC1C,IAAH,EAAR;ACGhB,SAAK,IAAIwE,EAAE,GAAG,CAAT,EAAY9B,EAAE,GAAGiD,IAAI,CAACtG,IAA3B,EAAiCmF,EAAE,GAAG9B,EAAE,CAAC1B,MAAzC,EAAiDwD,EAAE,EAAnD,EAAuD;AACnD,ADHY,UCGRyB,GAAG,GAAGvD,ADHM,ECGJ,CAAC8B,EAAD,ADHSxC,CCGrB,oBDHgB,KAA+BQ,OAAnC,EAA4C;ACIxDhD,ADHgB,MCGhBA,MAAM,IAAIkG,4BAA4B,CAACO,GAAD,EAAML,OAAN,EAAeC,MAAf,CAAtC;AACH,ADHmB,qBAAO,CAAC;ACI/B,ADJiC;AAAH,eAAP;ACKxB,ADJqB,SCIdrG,MAAP;AACH;ADJuBiD,YAAAA,KAAK,CAACG,eAAN,CAAsB,KAAKrB,SAAL,CAAesB,YAAf,EAAtB;ACKxB,ADJwB,SCIfqD,UDJsB,CAAC,SCIhC,CAA8BC,YAA9B,EAA4C;AACxC,ADL8B,MCK1BA,YAAJ,EAAkB;AACd,ADNuB,WCMhBA,EDNS,UCMG,CAAC/B,GAAb,CAAiB,UAAUgC,WAAV,EAAuB;AAAE,ADpBzC,aCoBgDA,WAAW,CAACC,IAAnB;AAA0B,ADJtE,KCIE,EAAsEC,ADrBvD,CAAlB,GCqBG,CAA2E,EAA3E,CAAP;AACH,ADJI,KApBe,CAAhB;AAqBH,GAtBD;AC0BA,SAAO,EAAP;AACH,ADJGpF,ECKJ,ADLIA,aAAa,CAACkB,SAAd,CAAwBT,YAAxB,GAAuC,YAAY;AAC/C,QAAI,CAAC,KAAKH,OAAV,EAAmB;AACf;ACIZ,ADHS,ICGL+E,OAAO;AAAG;AAAe,ADFrB,QAAIzD,ICE6B,ODFlB,GAAG,KAAKvB,SAAL,CAAewB,oBAAf,EAAlB;ACGJ,WAASwD,OAAT,CAAiB/E,OAAjB,EAA0B;AACtB,ADHA,QAAIwB,CCGCxB,OAAL,GAAeA,OAAf,KDH2B,GAAGyB,IAAI,CAACC,GAAL,KAAa,KAAKtB,aAAhD;ACIH;ADHG,QAAIkB,WAAW,GAAG,CAAd,IAAmBE,uBAAuB,GAAGF,WAAjD,EAA8D;ACIlEyD,ADHQ,ECGRA,OAAO,CAACnE,CDHKL,QCGb,CAAkByE,EDHV,eCGR,GAAsC,UAAUnC,GAAV,EAAeoC,QAAf,EAAyB;AAC3D,ADHC,QCGGvC,KAAK,GAAGd,MAAM,CAACC,MAAP,CAAcqD,QAAd,CAAuBrC,GAAvB,CAAZ;AACA,ADHH,GATD,QCYWH,KAAK,CAACyC,WAAN,CAAkBF,QAAlB,CAAP;AACH,GAHD;ADAAvF,EAAAA,aAAa,CAACkB,SAAd,CAAwBe,UAAxB,GAAqC,YAAY;ACIjDoD,ADHI,ECGJA,MDHQlF,CCGD,CAACe,GDHK,GAAG,GCGhB,CAAkBwE,ADHd,iBCGJ,GAAsC,UAAUvC,GAAV,EAAewC,MAAf,EAAuB;AACzD,QAAI3C,KAAK,GAAGd,MAAM,CAACC,MAAP,CAAcqD,QAAd,CAAuBrC,GAAvB,CAAZ;AACA,ADJA,SAAKzC,ECIEsC,KAAK,CAAC4C,KDJb,GAAqB7D,IAAI,CCIlB,ADJmBC,CCIC2D,EDJN,EAArB,ECIO,CAAP;AACH,GAHD;ADDI,QAAI,CAAC,KAAKvE,OAAV,EAAmB;ACKvBiE,ADJQ,ECIRA,OAAO,CAACnE,CDJKZ,OAAL,CCIR,CAAkBuF,CDJK3D,MAAM,CAACC,MAAP,CAAcC,CCIrC,GAAqC,UAAUe,CDJxB,CAA8B,CCIhB,EAAe2C,IAAf,EAAqB;AACtD,ADJQ,QCIJC,EAAE,GAAG,KAAKL,iBAAL,CAAuBvC,GAAvB,EAA4B2C,IAAI,CAACE,KAAjC,CAAT;ADHQ3D,QAAAA,QAAQ,EAAE,iCAF+B;ACMjD,ADHQxD,QCGJoH,ADHIpH,ECGF,GAAG,ADHI,EAAE,GCGD6G,EDHMtF,OAH6B,QCMxC,CAAuB+C,GAAvB,EAA4B2C,IAAI,CAACE,KAAL,GAAaF,IAAI,CAAChG,MAA9C,CAAT;ADFQ;ACGR,ADFQwC,QCEJ4D,ADFI5D,UAAU,EAAE,GCED,GAAGyD,EAAE,CAACI,UAAzB;AAAA,ADDY5D,QCCyB6D,EDDzB7D,SCCoC,GAAGwD,EAAE,CAACM,ADD3B,EAAE,ICC7B,CDDkChG,SAAL,CAAemC,kBAAf,EADT;ACGpB,ADDYC,QCCR6D,EDDQ7D,SAAS,ECCJ,ADDM,GCCHwD,EAAE,ADDM5F,CCCL8F,QDDA,CAAexE,CCCtC,WDDuB;ACCvB,ADHoB,QCGe4E,SAAS,GAAGN,EAAE,CAACI,MAAlD;AACA,ADTiD,OAA9B,CAAf,GCSG;AAAEH,MAAAA,eAAe,EAAEA,eAAnB;AAAoCE,ADCvC,MCDuCA,IDCnC1D,CAAC,GAAG,GCD0C,EAAE0D,ADCvC9F,OAAL,CAAamB,GCDlB,KDCK,EAAR;ACDiE6E,MAAAA,aAAa,EAAEA,aAA7E;AAA4FC,ADE/F,MCF+FA,IDE3F,KCFoG,ADE/FlG,ECFiGkG,ODEtG,CAAe5D,iBAAf,EAAJ,EAAwC;ACFrC,ADGCD,KCHR,GDGQA,CAAC,GAAGA,CAAC,CAAClE,IAAF,CAAO,UAAUoE,MAAV,EAAkB;ACFxC,ADGe,GCThB,cDSuBzC,KAAK,CAACG,OAAN,CAAcuC,mBAAd,CAAkCX,MAAM,CAACC,MAAP,CAAcW,SAAd,GACpCC,MADoC,CAC7B,UAAUC,KAAV,EAAiB;AAAE,mBAAOA,KAAK,CAACC,SAAN,OAAsB9C,KAAK,CAACC,OAAnC;ACH/C,ADG4F,SCHrFiF,EDEkD,EAEpCnC,GCJrB,ADEyD,CAEhC,UAAUF,KAAV,EAAiB;ACH7C,ADG+C,CCvBnB,EAA7B,gBDuBuDA,KAAK,CAACG,GAAb;AAAmB,WAFN,CAAlC,CAAP;AAGH,SAJG,CAAJ;AAKH;ACHb;AACA,ADGY,ICHRqD,ODGapF,OAAL,GCHS,ADGMsB,CAAf;ACHY,ADIf;ACJ8B,UAAU+D,MAAV,EAAkB;AACrDhD,ADII,ECJJA,SAAS,ADIE,CCJD+C,IDIMpF,OAAZ,MCJK,EAAoBqF,MAApB,CAAT;ADKC,GAzBD;ACqBA,WAASD,iBAAT,CAA2BnG,SAA3B,EAAsCqG,SAAtC,EAAiD9D,MAAjD,EAAyD;AACrD,ADIJ5C,EAAAA,MCJQG,KAAK,EDIA,CCJGsG,ADIFvF,MCJQ,CAACtB,EDIvB,CAAwBwD,CCJR,CAAY,IAAZ,EAAkBR,MAAlB,KAA6B,IAAzC,CDIJ,GAAmD,YAAY;AAC3D,QAAIzC,KAAK,GAAG,IAAZ;ACJAA,IAAAA,KAAK,CAACE,SAAN,GAAkBA,SAAlB;AACAF,ADIA,ICJAA,IDIIkD,CCJC,CAACqD,ODIO,ECJb,CDIgB,ECJEA,ADIlB,SCJA;AACAvG,IAAAA,KAAK,CAACwG,YAAN,GAAqB,EAArB;AACAxG,ADGA,ICHAA,KAAK,ADGA,CCHCyG,GDGGtD,EAAE,GAAG,CCHd,ADGA,EAAiBA,CCHCO,CDGC,GAAGN,ECHE,CAACa,MAAP,ADGa,CCHC,ADGAtE,ICHd,CAAlB,CDGA,EAAwCwD,EAAE,EAA1C,EAA8C;AAC1CD,MAAAA,SAAS,CAACC,EAAD,CAAT,GAAgBC,SAAS,CAACD,EAAD,CAAzB;ACHJ,ADIC,QCJGuD,UAAU,GAAG,UAAU7D,KAAV,EAAiB;AAC9B,UAAIA,KAAK,CAACC,SAAN,OAAsByD,SAA1B,EAAqC;AACjC,ADGR,QAAItF,OAAJ;ACFK;ADGL,WAAO,KAAKa,UAAL,GAAkBzD,IAAlB,CAAuB,UAAUgF,MAAV,EAAkB;ACF5C,ADGApC,MAAAA,ICHI0F,GDGG,GCHP,ADGUtD,MAAV;ACFA,ADGH,KAFM,EAEJhF,GCHKuI,CDCD,CAEC,UAAUnI,CAAV,EAAa,GCHK,GAAGoE,KAAK,CAACgE,kBAAN,CAAyB,YAAY;AAC1DC,ADGJ,QCHIA,KDGG9G,KAAK,CAACG,CCHG,CAACwG,KDGV,CCHS,ADGKjE,CCHjB,kBDGG,CAAkCQ,SAAlC,CAAP;ACFIyD,ADGP,KAJM,EAIJtI,CCHKsI,GDDD,CAIC,ECHM,GAAGI,KDGCtI,CAAV,EAAa,ECHM,CAAC,YAAY;AAAE,ADGnB,aAAOwC,ICHmBjB,GDG1B,ECH+B,CAACgH,WAAN,CAAkBnE,KAAK,CAACG,GAAxB,CAAP;AAAsC,ADGxC,KAJjC,CAAP,GCC2B,EAAuD,GAAvD,CAAnB;AACH,ADGR,GAZD,ICMiC,CAAzB;AAIAhD,MAAAA,KAAK,CAACyG,SAAN,CAAgB5D,KAAK,CAACG,GAAN,CAAUiE,QAAV,EAAhB,IAAwC;AACpCjG,ADEZ,QCFYA,CDELnB,MCFY,EAAE,KDErB,OCFiC;AACjB+G,ADEnB,CAlGkC,EAAnC,OCgGoBA,kBAAkB,CAAC5F,OAAnB;AACA8F,UAAAA,YAAY,CAACH,MAAD,CAAZ;AACH;AAJmC,OAAxC;;AAMA3G,MAAAA,KAAK,CAACgH,WAAN,CAAkBnE,KAAK,CAACG,GAAxB;AACH,KAhBD;;AAiBA,QAAIkE,cAAc,GAAG,UAAUrE,KAAV,EAAiB;AAClCd,MAAAA,MAAM,CAACC,MAAP,CAAcmF,eAAd,CAA8BtE,KAA9B,EAAqC7C,KAAK,CAACuG,SAA3C,EAAsD,EAAtD;AACA,UAAIa,GAAG,GAAGvE,KAAK,CAACG,GAAN,CAAUiE,QAAV,EAAV;;AACA,UAAIjH,KAAK,CAACyG,SAAN,CAAgBW,GAAhB,CAAJ,EAA0B;AACtBpH,QAAAA,KAAK,CAACyG,SAAN,CAAgBW,GAAhB,EAAqBpG,OAArB;;AACA,eAAOhB,KAAK,CAACyG,SAAN,CAAgBW,GAAhB,CAAP;AACH;AACJ,KAPD;;AAQApH,IAAAA,KAAK,CAACwG,YAAN,CAAmB5G,IAAnB,CAAwBmC,MAAM,CAACC,MAAP,CAAcqF,gBAAd,CAA+BX,UAA/B,CAAxB;;AACA1G,IAAAA,KAAK,CAACwG,YAAN,CAAmB5G,IAAnB,CAAwBmC,MAAM,CAACC,MAAP,CAAcsF,kBAAd,CAAiCJ,cAAjC,CAAxB;;AACAlH,IAAAA,KAAK,CAACwG,YAAN,CAAmB5G,IAAnB,CAAwBmC,MAAM,CAACC,MAAP,CAAcuF,wBAAd,CAAuC,UAAUC,KAAV,EAAiB;AAC5EN,MAAAA,cAAc,CAACM,KAAK,CAAC3E,KAAP,CAAd;AACA6D,MAAAA,UAAU,CAACc,KAAK,CAAC3E,KAAP,CAAV;AACH,KAHuB,CAAxB;;AAIA7C,IAAAA,KAAK,CAACwG,YAAN,CAAmB5G,IAAnB,CAAwB;AACpBoB,MAAAA,OAAO,EAAE,YAAY;AACjB,aAAK,IAAImC,EAAE,GAAG,CAAT,EAAY9B,EAAE,GAAGU,MAAM,CAACC,MAAP,CAAcW,SAAd,EAAtB,EAAiDQ,EAAE,GAAG9B,EAAE,CAAC1B,MAAzD,EAAiEwD,EAAE,EAAnE,EAAuE;AACnE,cAAIN,KAAK,GAAGxB,EAAE,CAAC8B,EAAD,CAAd;AACA+D,UAAAA,cAAc,CAACrE,KAAD,CAAd;AACH;AACJ;AANmB,KAAxB;;AAQA,QAAI4E,mBAAmB,GAAG,YAAY;AAClC;AACA,WAAK,IAAItE,EAAE,GAAG,CAAT,EAAY9B,EAAE,GAAGU,MAAM,CAACC,MAAP,CAAcW,SAAd,EAAtB,EAAiDQ,EAAE,GAAG9B,EAAE,CAAC1B,MAAzD,EAAiEwD,EAAE,EAAnE,EAAuE;AACnE,YAAIN,KAAK,GAAGxB,EAAE,CAAC8B,EAAD,CAAd;AACA+D,QAAAA,cAAc,CAACrE,KAAD,CAAd;AACA6D,QAAAA,UAAU,CAAC7D,KAAD,CAAV;AACH;AACJ,KAPD;;AAQA7C,IAAAA,KAAK,CAACwG,YAAN,CAAmB5G,IAAnB,CAAwBI,KAAK,CAACE,SAAN,CAAgBO,WAAhB,CAA4BgH,mBAA5B,CAAxB;;AACAzH,IAAAA,KAAK,CAACwG,YAAN,CAAmB5G,IAAnB,CAAwBI,KAAK,CAACE,SAAN,CAAgBW,oBAAhB,CAAqC4G,mBAArC,CAAxB;;AACA1F,IAAAA,MAAM,CAACC,MAAP,CAAcW,SAAd,GAA0B+E,OAA1B,CAAkChB,UAAlC;AACA,WAAO1G,KAAP;AACH;;AACDqG,EAAAA,iBAAiB,CAACtF,SAAlB,CAA4BC,OAA5B,GAAsC,YAAY;AAC9C,SAAKwF,YAAL,CAAkBkB,OAAlB,CAA0B,UAAUlE,CAAV,EAAa;AAAE,aAAOA,CAAC,IAAIA,CAAC,CAACxC,OAAF,EAAZ;AAA0B,KAAnE;;AACA,SAAKwF,YAAL,GAAoB,EAApB;AACH,GAHD;;AAIAH,EAAAA,iBAAiB,CAACtF,SAAlB,CAA4BiG,WAA5B,GAA0C,UAAUW,QAAV,EAAoB;AAC1D,QAAI3H,KAAK,GAAG,IAAZ;;AACA,SAAKG,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AAC1C,UAAI,CAACV,MAAM,CAACC,MAAP,CAAcqD,QAAd,CAAuBsC,QAAvB,CAAL,EAAuC;AACnC;AACA,eAAO,IAAP;AACH;;AACD,UAAIC,QAAQ,GAAG,EAAf;;AACA,UAAIvG,EAAE,GAAGrB,KAAK,CAACE,SAAN,CAAgB2H,qBAAhB,EAAT;AAAA,UAAkDC,kBAAkB,GAAGzG,EAAE,CAACyG,kBAA1E;AAAA,UAA8FC,oBAAoB,GAAG1G,EAAE,CAAC0G,oBAAxH;;AACA,UAAI,CAACD,kBAAL,EAAyB;AACrBF,QAAAA,QAAQ,CAAChI,IAAT,CAAc6C,MAAM,CAACuF,uBAAP,CAA+BL,QAAQ,CAACV,QAAT,EAA/B,CAAd;AACH;;AACD,UAAI,CAACc,oBAAL,EAA2B;AACvBH,QAAAA,QAAQ,CAAChI,IAAT,CAAc6C,MAAM,CAACwF,sBAAP,CAA8BN,QAAQ,CAACV,QAAT,EAA9B,CAAd;AACH;;AACD,aAAOrJ,OAAO,CAACsK,GAAR,CAAYN,QAAZ,CAAP;AACH,KAdD,EAcGvJ,IAdH,CAcQ,UAAU8J,WAAV,EAAuB;AAC3B,UAAI,CAACA,WAAD,IAAgB,CAACpG,MAAM,CAACC,MAAP,CAAcqD,QAAd,CAAuBsC,QAAvB,CAArB,EAAuD;AACnD;AACA,eAAO,IAAP;AACH;;AACD,UAAIS,OAAO,GAAGD,WAAW,CACpBE,MADS,CACF,UAAU9F,CAAV,EAAa+F,CAAb,EAAgB;AAAE,eAAOA,CAAC,CAACC,MAAF,CAAShG,CAAT,CAAP;AAAqB,OADrC,EACuC,EADvC,EAETQ,GAFS,CAEL,UAAUS,CAAV,EAAa;AAAE,eAAOxD,KAAK,CAACwI,mBAAN,CAA0Bb,QAA1B,EAAoCnE,CAApC,CAAP;AAAgD,OAF1D,CAAd;AAGAzB,MAAAA,MAAM,CAACC,MAAP,CAAcmF,eAAd,CAA8BpF,MAAM,CAACC,MAAP,CAAcqD,QAAd,CAAuBsC,QAAvB,CAA9B,EAAgE3H,KAAK,CAACuG,SAAtE,EAAiF6B,OAAjF;AACH,KAvBD,EAuBG/J,IAvBH,CAuBQoG,SAvBR,EAuBmB,UAAUgE,GAAV,EAAe;AAC9BC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH,KAzBD;AA0BH,GA5BD;;AA6BApC,EAAAA,iBAAiB,CAACtF,SAAlB,CAA4ByH,mBAA5B,GAAkD,UAAUb,QAAV,EAAoBrD,IAApB,EAA0B;AACxE,QAAIjD,EAAE,GAAG,KAAKkE,iBAAL,CAAuBoC,QAAvB,EAAiCrD,IAAI,CAACuB,KAAtC,CAAT;AAAA,QAAuDE,eAAe,GAAG1E,EAAE,CAAC2E,UAA5E;AAAA,QAAwFC,WAAW,GAAG5E,EAAE,CAAC6E,MAAzG;;AACA,QAAI0C,EAAE,GAAG,KAAKrD,iBAAL,CAAuBoC,QAAvB,EAAiCrD,IAAI,CAACuB,KAAL,GAAavB,IAAI,CAAC3E,MAAnD,CAAT;AAAA,QAAqEwG,aAAa,GAAGyC,EAAE,CAAC5C,UAAxF;AAAA,QAAoGI,SAAS,GAAGwC,EAAE,CAAC1C,MAAnH;;AACA,WAAO;AACH2C,MAAAA,QAAQ,EAAE9G,MAAM,CAAC+G,cAAP,CAAsBC,KAD7B;AAEHhD,MAAAA,eAAe,EAAEA,eAFd;AAGHE,MAAAA,WAAW,EAAEA,WAHV;AAIHE,MAAAA,aAAa,EAAEA,aAJZ;AAKHC,MAAAA,SAAS,EAAEA,SALR;AAMH4C,MAAAA,OAAO,EAAE3E,4BAA4B,CAACC,IAAI,CAACK,WAAN,EAAmB,IAAnB;AANlC,KAAP;AAQH,GAXD;;AAYA,SAAO0B,iBAAP;AACH,CA1GsC,CA0GrCnB,OA1GqC,CAAvC;;;;AA4GA,IAAI+D,cAAc;AAAG;AAAe,UAAU3C,MAAV,EAAkB;AAClDhD,EAAAA,SAAS,CAAC2F,cAAD,EAAiB3C,MAAjB,CAAT;;AACA,WAAS2C,cAAT,GAA0B;AACtB,WAAO3C,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDM,EAAAA,MAAM,CAACwF,cAAP,CAAsBD,cAAc,CAAClI,SAArC,EAAgD,mBAAhD,EAAqE;AACjEoI,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,CAAC,GAAD,CAAP;AACH,KAHgE;AAIjEC,IAAAA,UAAU,EAAE,IAJqD;AAKjEC,IAAAA,YAAY,EAAE;AALmD,GAArE;;AAOAJ,EAAAA,cAAc,CAAClI,SAAf,CAAyBuI,sBAAzB,GAAkD,UAAUzG,KAAV,EAAiBuC,QAAjB,EAA2BmE,QAA3B,EAAqCC,KAArC,EAA4C;AAC1F,QAAIC,QAAQ,GAAG5G,KAAK,CAAC6G,oBAAN,CAA2BtE,QAA3B,CAAf;AACA,QAAIuE,SAAS,GAAG,IAAIxF,KAAJ,CAAUiB,QAAQ,CAACY,UAAnB,EAA+ByD,QAAQ,CAACxD,WAAxC,EAAqDb,QAAQ,CAACY,UAA9D,EAA0EyD,QAAQ,CAACrD,SAAnF,CAAhB;AACA,QAAIuB,QAAQ,GAAG9E,KAAK,CAACG,GAArB;;AACA,QAAIwC,MAAM,GAAG,KAAKL,iBAAL,CAAuBwC,QAAvB,EAAiCvC,QAAjC,CAAb;;AACA,WAAO,KAAKjF,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAACmH,wBAAP,CAAgCjC,QAAQ,CAACV,QAAT,EAAhC,EAAqDzB,MAArD,CAAP;AACH,KAFM,EAEJnH,IAFI,CAEC,UAAUwL,IAAV,EAAgB;AACpB,UAAI,CAACA,IAAL,EAAW;AACP;AACH;;AACD,UAAIC,WAAW,GAAGD,IAAI,CAACE,OAAL,CAAahH,GAAb,CAAiB,UAAUiH,KAAV,EAAiB;AAChD,YAAIC,KAAK,GAAGN,SAAZ;;AACA,YAAIK,KAAK,CAACE,eAAV,EAA2B;AACvB,cAAItE,EAAE,GAAG/C,KAAK,CAAC4C,aAAN,CAAoBuE,KAAK,CAACE,eAAN,CAAsBrE,KAA1C,CAAT;AACA,cAAIC,EAAE,GAAGjD,KAAK,CAAC4C,aAAN,CAAoBuE,KAAK,CAACE,eAAN,CAAsBrE,KAAtB,GAA8BmE,KAAK,CAACE,eAAN,CAAsBvK,MAAxE,CAAT;AACAsK,UAAAA,KAAK,GAAG,IAAI9F,KAAJ,CAAUyB,EAAE,CAACI,UAAb,EAAyBJ,EAAE,CAACM,MAA5B,EAAoCJ,EAAE,CAACE,UAAvC,EAAmDF,EAAE,CAACI,MAAtD,CAAR;AACH;;AACD,eAAO;AACHlD,UAAAA,GAAG,EAAE2E,QADF;AAEHvC,UAAAA,QAAQ,EAAEA,QAFP;AAGH6E,UAAAA,KAAK,EAAEA,KAHJ;AAIHvL,UAAAA,KAAK,EAAEsL,KAAK,CAACG,IAJV;AAKHC,UAAAA,UAAU,EAAEJ,KAAK,CAACG,IALf;AAMHE,UAAAA,QAAQ,EAAEL,KAAK,CAACK,QANb;AAOHC,UAAAA,IAAI,EAAErB,cAAc,CAACsB,WAAf,CAA2BP,KAAK,CAACM,IAAjC;AAPH,SAAP;AASH,OAhBiB,CAAlB;AAiBA,aAAO;AACHR,QAAAA,WAAW,EAAEA;AADV,OAAP;AAGH,KA1BM,CAAP;AA2BH,GAhCD;;AAiCAb,EAAAA,cAAc,CAAClI,SAAf,CAAyByJ,qBAAzB,GAAiD,UAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,IAA7B,EAAmCnB,KAAnC,EAA0C;AACvF,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI4K,MAAM,GAAGD,IAAb;AACA,QAAIhD,QAAQ,GAAGiD,MAAM,CAAC5H,GAAtB;AACA,QAAIoC,QAAQ,GAAGwF,MAAM,CAACxF,QAAtB;AACA,WAAO,KAAKjF,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAACoI,yBAAP,CAAiClD,QAAQ,CAACV,QAAT,EAAjC,EAAsDjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkCvC,QAAlC,CAAtD,EAAmGwF,MAAM,CAAClM,KAA1G,CAAP;AACH,KAFM,EAEJL,IAFI,CAEC,UAAUyM,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV,eAAOF,MAAP;AACH;;AACD,aAAO;AACH5H,QAAAA,GAAG,EAAE2E,QADF;AAEHvC,QAAAA,QAAQ,EAAEA,QAFP;AAGH1G,QAAAA,KAAK,EAAEoM,OAAO,CAACX,IAHZ;AAIHG,QAAAA,IAAI,EAAErB,cAAc,CAACsB,WAAf,CAA2BO,OAAO,CAACR,IAAnC,CAJH;AAKHS,QAAAA,MAAM,EAAElG,oBAAoB,CAACiG,OAAO,CAAChG,YAAT,CALzB;AAMHkG,QAAAA,aAAa,EAAE;AACXtN,UAAAA,KAAK,EAAEmH,oBAAoB,CAACiG,OAAO,CAACE,aAAT;AADhB;AANZ,OAAP;AAUH,KAhBM,CAAP;AAiBH,GAtBD;;AAuBA/B,EAAAA,cAAc,CAACsB,WAAf,GAA6B,UAAUD,IAAV,EAAgB;AACzC,YAAQA,IAAR;AACI,WAAKW,IAAI,CAACC,aAAV;AACA,WAAKD,IAAI,CAACE,OAAV;AACI,eAAOpJ,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCC,OAA3C;;AACJ,WAAKL,IAAI,CAACM,QAAV;AACA,WAAKN,IAAI,CAACO,aAAV;AACI,eAAOzJ,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCI,QAA3C;;AACJ,WAAKR,IAAI,CAACS,cAAV;AACA,WAAKT,IAAI,CAACU,iBAAV;AACA,WAAKV,IAAI,CAACW,iBAAV;AACI,eAAO7J,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCQ,KAA3C;;AACJ,WAAKZ,IAAI,CAACa,QAAV;AACA,WAAKb,IAAI,CAACc,cAAV;AACA,WAAKd,IAAI,CAACe,kBAAV;AACA,WAAKf,IAAI,CAACgB,aAAV;AACA,WAAKhB,IAAI,CAACiB,cAAV;AACI,eAAOnK,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCc,QAA3C;;AACJ,WAAKlB,IAAI,CAACmB,IAAV;AACI,eAAOrK,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCgB,IAA3C;;AACJ,WAAKpB,IAAI,CAACqB,MAAV;AACI,eAAOvK,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCkB,MAA3C;;AACJ,WAAKtB,IAAI,CAACuB,KAAV;AACI,eAAOzK,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCoB,KAA3C;;AACJ,WAAKxB,IAAI,CAACyB,SAAV;AACI,eAAO3K,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCsB,SAA3C;;AACJ,WAAK1B,IAAI,CAAC2B,OAAV;AACI,eAAO7K,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCwB,IAA3C;AA1BR;;AA4BA,WAAO9K,MAAM,CAACqJ,SAAP,CAAiBC,kBAAjB,CAAoCyB,QAA3C;AACH,GA9BD;;AA+BA,SAAO7D,cAAP;AACH,CApGmC,CAoGlC/D,OApGkC,CAApC;;;;AAsGA,IAAI6H,oBAAoB;AAAG;AAAe,UAAUzG,MAAV,EAAkB;AACxDhD,EAAAA,SAAS,CAACyJ,oBAAD,EAAuBzG,MAAvB,CAAT;;AACA,WAASyG,oBAAT,GAAgC;AAC5B,QAAI/M,KAAK,GAAGsG,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAAhE;;AACApD,IAAAA,KAAK,CAACgN,8BAAN,GAAuC,CAAC,GAAD,EAAM,GAAN,CAAvC;AACA,WAAOhN,KAAP;AACH;;AACD+M,EAAAA,oBAAoB,CAAChM,SAArB,CAA+BkM,oBAA/B,GAAsD,UAAUpK,KAAV,EAAiBuC,QAAjB,EAA2BoE,KAA3B,EAAkC;AACpF,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AAAE,aAAOA,MAAM,CAACyK,qBAAP,CAA6BvF,QAAQ,CAACV,QAAT,EAA7B,EAAkDjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkCvC,QAAlC,CAAlD,CAAP;AAAwG,KAAxJ,EAA0J/G,IAA1J,CAA+J,UAAUwL,IAAV,EAAgB;AAClL,UAAI,CAACA,IAAL,EAAW;AACP;AACH;;AACD,UAAIsD,GAAG,GAAG;AACNC,QAAAA,eAAe,EAAEvD,IAAI,CAACwD,iBADhB;AAENC,QAAAA,eAAe,EAAEzD,IAAI,CAAC0D,aAFhB;AAGNC,QAAAA,UAAU,EAAE;AAHN,OAAV;AAKA3D,MAAAA,IAAI,CAAC4D,KAAL,CAAW/F,OAAX,CAAmB,UAAUiD,IAAV,EAAgB;AAC/B,YAAI+C,SAAS,GAAG;AACZhP,UAAAA,KAAK,EAAE,EADK;AAEZiP,UAAAA,UAAU,EAAE;AAFA,SAAhB;AAIAD,QAAAA,SAAS,CAAChP,KAAV,IAAmBmG,oBAAoB,CAAC8F,IAAI,CAACiD,kBAAN,CAAvC;AACAjD,QAAAA,IAAI,CAACgD,UAAL,CAAgBjG,OAAhB,CAAwB,UAAUnF,CAAV,EAAamC,CAAb,EAAgBmJ,CAAhB,EAAmB;AACvC,cAAInP,KAAK,GAAGmG,oBAAoB,CAACtC,CAAC,CAACuC,YAAH,CAAhC;AACA,cAAIgJ,SAAS,GAAG;AACZpP,YAAAA,KAAK,EAAEA,KADK;AAEZsM,YAAAA,aAAa,EAAEnG,oBAAoB,CAACtC,CAAC,CAACyI,aAAH;AAFvB,WAAhB;AAIA0C,UAAAA,SAAS,CAAChP,KAAV,IAAmBA,KAAnB;AACAgP,UAAAA,SAAS,CAACC,UAAV,CAAqB/N,IAArB,CAA0BkO,SAA1B;;AACA,cAAIpJ,CAAC,GAAGmJ,CAAC,CAAClO,MAAF,GAAW,CAAnB,EAAsB;AAClB+N,YAAAA,SAAS,CAAChP,KAAV,IAAmBmG,oBAAoB,CAAC8F,IAAI,CAACoD,qBAAN,CAAvC;AACH;AACJ,SAXD;AAYAL,QAAAA,SAAS,CAAChP,KAAV,IAAmBmG,oBAAoB,CAAC8F,IAAI,CAACqD,kBAAN,CAAvC;AACAb,QAAAA,GAAG,CAACK,UAAJ,CAAe5N,IAAf,CAAoB8N,SAApB;AACH,OApBD;AAqBA,aAAO;AACHhQ,QAAAA,KAAK,EAAEyP,GADJ;AAEHnM,QAAAA,OAAO,EAAE,YAAY,CAAG;AAFrB,OAAP;AAIH,KAlCM,CAAP;AAmCH,GAtCD;;AAuCA,SAAO+L,oBAAP;AACH,CA/CyC,CA+CxC7H,OA/CwC,CAA1C;;;;AAiDA;AACA,IAAI+I,gBAAgB;AAAG;AAAe,UAAU3H,MAAV,EAAkB;AACpDhD,EAAAA,SAAS,CAAC2K,gBAAD,EAAmB3H,MAAnB,CAAT;;AACA,WAAS2H,gBAAT,GAA4B;AACxB,WAAO3H,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD6K,EAAAA,gBAAgB,CAAClN,SAAjB,CAA2BmN,YAA3B,GAA0C,UAAUrL,KAAV,EAAiBuC,QAAjB,EAA2BoE,KAA3B,EAAkC;AACxE,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAAC0L,sBAAP,CAA8BxG,QAAQ,CAACV,QAAT,EAA9B,EAAmDjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkCvC,QAAlC,CAAnD,CAAP;AACH,KAFM,EAEJ/G,IAFI,CAEC,UAAUwL,IAAV,EAAgB;AACpB,UAAI,CAACA,IAAL,EAAW;AACP;AACH;;AACD,UAAImB,aAAa,GAAGnG,oBAAoB,CAACgF,IAAI,CAACmB,aAAN,CAAxC;AACA,UAAIoD,IAAI,GAAGvE,IAAI,CAACuE,IAAL,GAAYvE,IAAI,CAACuE,IAAL,CAAUrL,GAAV,CAAc,UAAUsL,GAAV,EAAe;AAChD,YAAI3P,KAAK,GAAG,OAAO2P,GAAG,CAAClE,IAAX,GAAkB,GAA9B;;AACA,YAAI,CAACkE,GAAG,CAACrJ,IAAT,EAAe;AACX,iBAAOtG,KAAP;AACH;;AACD,eAAOA,KAAK,IAAI2P,GAAG,CAACrJ,IAAJ,CAASsJ,KAAT,CAAe,UAAf,IAA6B,QAAQD,GAAG,CAACrJ,IAAzC,GAAgD,QAAQqJ,GAAG,CAACrJ,IAAhE,CAAZ;AACH,OANsB,EAOlBC,IAPkB,CAOb,QAPa,CAAZ,GAOW,EAPtB;AAQA,UAAIsJ,QAAQ,GAAG1J,oBAAoB,CAACgF,IAAI,CAAC/E,YAAN,CAAnC;AACA,aAAO;AACHmF,QAAAA,KAAK,EAAEjK,KAAK,CAAC0F,gBAAN,CAAuBiC,QAAvB,EAAiCkC,IAAI,CAAC2E,QAAtC,CADJ;AAEHD,QAAAA,QAAQ,EAAE,CAAC;AACH7Q,UAAAA,KAAK,EAAE,YAAY6Q,QAAZ,GAAuB;AAD3B,SAAD,EAEH;AACC7Q,UAAAA,KAAK,EAAEsN,aAAa,IAAIoD,IAAI,GAAG,SAASA,IAAZ,GAAmB,EAA3B;AADrB,SAFG;AAFP,OAAP;AAQH,KAxBM,CAAP;AAyBH,GA5BD;;AA6BA,SAAOH,gBAAP;AACH,CAnCqC,CAmCpC/I,OAnCoC,CAAtC;;;;AAqCA;AACA,IAAIuJ,kBAAkB;AAAG;AAAe,UAAUnI,MAAV,EAAkB;AACtDhD,EAAAA,SAAS,CAACmL,kBAAD,EAAqBnI,MAArB,CAAT;;AACA,WAASmI,kBAAT,GAA8B;AAC1B,WAAOnI,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDqL,EAAAA,kBAAkB,CAAC1N,SAAnB,CAA6B2N,yBAA7B,GAAyD,UAAU7L,KAAV,EAAiBuC,QAAjB,EAA2BoE,KAA3B,EAAkC;AACvF,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAACkM,wBAAP,CAAgChH,QAAQ,CAACV,QAAT,EAAhC,EAAqDjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkCvC,QAAlC,CAArD,CAAP;AACH,KAFM,EAEJ/G,IAFI,CAEC,UAAU0L,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV;AACH;;AACD,aAAOA,OAAO,CAAChH,GAAR,CAAY,UAAUiH,KAAV,EAAiB;AAChC,eAAO;AACHC,UAAAA,KAAK,EAAEjK,KAAK,CAAC0F,gBAAN,CAAuBiC,QAAvB,EAAiCqC,KAAK,CAACwE,QAAvC,CADJ;AAEHlE,UAAAA,IAAI,EAAEN,KAAK,CAAC4E,aAAN,GAAsB7M,MAAM,CAACqJ,SAAP,CAAiByD,qBAAjB,CAAuCC,KAA7D,GAAqE/M,MAAM,CAACqJ,SAAP,CAAiByD,qBAAjB,CAAuCE;AAF/G,SAAP;AAIH,OALM,CAAP;AAMH,KAZM,CAAP;AAaH,GAhBD;;AAiBA,SAAON,kBAAP;AACH,CAvBuC,CAuBtCvJ,OAvBsC,CAAxC;;;;AAyBA;AACA,IAAI8J,iBAAiB;AAAG;AAAe,UAAU1I,MAAV,EAAkB;AACrDhD,EAAAA,SAAS,CAAC0L,iBAAD,EAAoB1I,MAApB,CAAT;;AACA,WAAS0I,iBAAT,GAA6B;AACzB,WAAO1I,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD4L,EAAAA,iBAAiB,CAACjO,SAAlB,CAA4BkO,iBAA5B,GAAgD,UAAUpM,KAAV,EAAiBuC,QAAjB,EAA2BoE,KAA3B,EAAkC;AAC9E,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAACyM,uBAAP,CAA+BvH,QAAQ,CAACV,QAAT,EAA/B,EAAoDjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkCvC,QAAlC,CAApD,CAAP;AACH,KAFM,EAEJ/G,IAFI,CAEC,UAAU0L,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV;AACH;;AACD,UAAI5L,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIgF,EAAE,GAAG,CAAT,EAAYgM,SAAS,GAAGpF,OAA7B,EAAsC5G,EAAE,GAAGgM,SAAS,CAACxP,MAArD,EAA6DwD,EAAE,EAA/D,EAAmE;AAC/D,YAAI6G,KAAK,GAAGmF,SAAS,CAAChM,EAAD,CAArB;AACA,YAAIH,GAAG,GAAGkB,GAAG,CAACkL,KAAJ,CAAUpF,KAAK,CAACqF,QAAhB,CAAV;;AACA,YAAItN,MAAM,CAACC,MAAP,CAAcqD,QAAd,CAAuBrC,GAAvB,CAAJ,EAAiC;AAC7B7E,UAAAA,MAAM,CAACyB,IAAP,CAAY;AACRoD,YAAAA,GAAG,EAAEA,GADG;AAERiH,YAAAA,KAAK,EAAEjK,KAAK,CAAC0F,gBAAN,CAAuB1C,GAAvB,EAA4BgH,KAAK,CAACwE,QAAlC;AAFC,WAAZ;AAIH;AACJ;;AACD,aAAOrQ,MAAP;AACH,KAlBM,CAAP;AAmBH,GAtBD;;AAuBA,SAAO6Q,iBAAP;AACH,CA7BsC,CA6BrC9J,OA7BqC,CAAvC;;;;AA+BA;AACA,IAAIoK,gBAAgB;AAAG;AAAe,UAAUhJ,MAAV,EAAkB;AACpDhD,EAAAA,SAAS,CAACgM,gBAAD,EAAmBhJ,MAAnB,CAAT;;AACA,WAASgJ,gBAAT,GAA4B;AACxB,WAAOhJ,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDkM,EAAAA,gBAAgB,CAACvO,SAAjB,CAA2BwO,iBAA3B,GAA+C,UAAU1M,KAAV,EAAiBuC,QAAjB,EAA2BoK,OAA3B,EAAoChG,KAApC,EAA2C;AACtF,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAACgN,uBAAP,CAA+B9H,QAAQ,CAACV,QAAT,EAA/B,EAAoDjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkCvC,QAAlC,CAApD,CAAP;AACH,KAFM,EAEJ/G,IAFI,CAEC,UAAU0L,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV;AACH;;AACD,UAAI5L,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIgF,EAAE,GAAG,CAAT,EAAYuM,SAAS,GAAG3F,OAA7B,EAAsC5G,EAAE,GAAGuM,SAAS,CAAC/P,MAArD,EAA6DwD,EAAE,EAA/D,EAAmE;AAC/D,YAAI6G,KAAK,GAAG0F,SAAS,CAACvM,EAAD,CAArB;AACA,YAAIH,GAAG,GAAGkB,GAAG,CAACkL,KAAJ,CAAUpF,KAAK,CAACqF,QAAhB,CAAV;;AACA,YAAItN,MAAM,CAACC,MAAP,CAAcqD,QAAd,CAAuBrC,GAAvB,CAAJ,EAAiC;AAC7B7E,UAAAA,MAAM,CAACyB,IAAP,CAAY;AACRoD,YAAAA,GAAG,EAAEA,GADG;AAERiH,YAAAA,KAAK,EAAEjK,KAAK,CAAC0F,gBAAN,CAAuB1C,GAAvB,EAA4BgH,KAAK,CAACwE,QAAlC;AAFC,WAAZ;AAIH;AACJ;;AACD,aAAOrQ,MAAP;AACH,KAlBM,CAAP;AAmBH,GAtBD;;AAuBA,SAAOmR,gBAAP;AACH,CA7BqC,CA6BpCpK,OA7BoC,CAAtC;;;;AA+BA;AACA,IAAIyK,cAAc;AAAG;AAAe,UAAUrJ,MAAV,EAAkB;AAClDhD,EAAAA,SAAS,CAACqM,cAAD,EAAiBrJ,MAAjB,CAAT;;AACA,WAASqJ,cAAT,GAA0B;AACtB,WAAOrJ,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDuM,EAAAA,cAAc,CAAC5O,SAAf,CAAyB6O,sBAAzB,GAAkD,UAAU/M,KAAV,EAAiB2G,KAAjB,EAAwB;AACtE,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AAAE,aAAOA,MAAM,CAACoN,qBAAP,CAA6BlI,QAAQ,CAACV,QAAT,EAA7B,CAAP;AAA2D,KAA3G,EAA6G5I,IAA7G,CAAkH,UAAUoP,KAAV,EAAiB;AACtI,UAAI,CAACA,KAAL,EAAY;AACR;AACH;;AACD,UAAIqC,OAAO,GAAG,UAAUC,MAAV,EAAkBpF,IAAlB,EAAwBqF,cAAxB,EAAwC;AAClD,YAAI7R,MAAM,GAAG;AACTgM,UAAAA,IAAI,EAAEQ,IAAI,CAAC3F,IADF;AAET+F,UAAAA,MAAM,EAAE,EAFC;AAGTT,UAAAA,IAAI,EAAG2F,gBAAgB,CAACtF,IAAI,CAACL,IAAN,CAAhB,IAA+BvI,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BzE,QAHzD;AAITxB,UAAAA,KAAK,EAAEjK,KAAK,CAAC0F,gBAAN,CAAuBiC,QAAvB,EAAiCgD,IAAI,CAACwF,KAAL,CAAW,CAAX,CAAjC,CAJE;AAKTC,UAAAA,cAAc,EAAEpQ,KAAK,CAAC0F,gBAAN,CAAuBiC,QAAvB,EAAiCgD,IAAI,CAACwF,KAAL,CAAW,CAAX,CAAjC,CALP;AAMT/B,UAAAA,IAAI,EAAE,EANG;AAOTiC,UAAAA,aAAa,EAAEL;AAPN,SAAb;;AASA,YAAIrF,IAAI,CAAC2F,UAAL,IAAmB3F,IAAI,CAAC2F,UAAL,CAAgB3Q,MAAhB,GAAyB,CAAhD,EAAmD;AAC/C,eAAK,IAAIwD,EAAE,GAAG,CAAT,EAAY9B,EAAE,GAAGsJ,IAAI,CAAC2F,UAA3B,EAAuCnN,EAAE,GAAG9B,EAAE,CAAC1B,MAA/C,EAAuDwD,EAAE,EAAzD,EAA6D;AACzD,gBAAIoN,KAAK,GAAGlP,EAAE,CAAC8B,EAAD,CAAd;AACA2M,YAAAA,OAAO,CAACC,MAAD,EAASQ,KAAT,EAAgBpS,MAAM,CAACgM,IAAvB,CAAP;AACH;AACJ;;AACD4F,QAAAA,MAAM,CAACnQ,IAAP,CAAYzB,MAAZ;AACH,OAjBD;;AAkBA,UAAIA,MAAM,GAAG,EAAb;AACAsP,MAAAA,KAAK,CAAC/F,OAAN,CAAc,UAAUiD,IAAV,EAAgB;AAAE,eAAOmF,OAAO,CAAC3R,MAAD,EAASwM,IAAT,CAAd;AAA+B,OAA/D;AACA,aAAOxM,MAAP;AACH,KAzBM,CAAP;AA0BH,GA7BD;;AA8BA,SAAOwR,cAAP;AACH,CApCmC,CAoClCzK,OApCkC,CAApC;;;;AAsCA,IAAI+F,IAAI;AAAG;AAAe,YAAY;AAClC,WAASA,IAAT,GAAgB,CACf;;AACDA,EAAAA,IAAI,CAACuF,OAAL,GAAe,EAAf;AACAvF,EAAAA,IAAI,CAACE,OAAL,GAAe,SAAf;AACAF,EAAAA,IAAI,CAACwF,MAAL,GAAc,QAAd;AACAxF,EAAAA,IAAI,CAACqB,MAAL,GAAc,QAAd;AACArB,EAAAA,IAAI,CAACuB,KAAL,GAAa,OAAb;AACAvB,EAAAA,IAAI,CAACyB,SAAL,GAAiB,WAAjB;AACAzB,EAAAA,IAAI,CAACyF,IAAL,GAAY,MAAZ;AACAzF,EAAAA,IAAI,CAACmB,IAAL,GAAY,MAAZ;AACAnB,EAAAA,IAAI,CAACM,QAAL,GAAgB,KAAhB;AACAN,EAAAA,IAAI,CAACO,aAAL,GAAqB,WAArB;AACAP,EAAAA,IAAI,CAACa,QAAL,GAAgB,UAAhB;AACAb,EAAAA,IAAI,CAAC0F,aAAL,GAAqB,gBAArB;AACA1F,EAAAA,IAAI,CAACc,cAAL,GAAsB,QAAtB;AACAd,EAAAA,IAAI,CAACU,iBAAL,GAAyB,QAAzB;AACAV,EAAAA,IAAI,CAACW,iBAAL,GAAyB,QAAzB;AACAX,EAAAA,IAAI,CAACS,cAAL,GAAsB,UAAtB;AACAT,EAAAA,IAAI,CAAC2F,yBAAL,GAAiC,aAAjC;AACA3F,EAAAA,IAAI,CAACgB,aAAL,GAAqB,MAArB;AACAhB,EAAAA,IAAI,CAACiB,cAAL,GAAsB,OAAtB;AACAjB,EAAAA,IAAI,CAACe,kBAAL,GAA0B,WAA1B;AACAf,EAAAA,IAAI,CAAC6C,SAAL,GAAiB,WAAjB;AACA7C,EAAAA,IAAI,CAAC4F,aAAL,GAAqB,gBAArB;AACA5F,EAAAA,IAAI,CAACC,aAAL,GAAqB,gBAArB;AACAD,EAAAA,IAAI,CAACvM,KAAL,GAAa,OAAb;AACAuM,EAAAA,IAAI,CAAC6F,KAAL,GAAa,OAAb;AACA7F,EAAAA,IAAI,CAAC8F,KAAL,GAAa,OAAb;AACA9F,EAAAA,IAAI,CAAC+F,GAAL,GAAW,KAAX;AACA/F,EAAAA,IAAI,CAAC2B,OAAL,GAAe,SAAf;AACA,SAAO3B,IAAP;AACH,CAhCyB,EAA1B;;;AAkCA,IAAIgF,gBAAgB,GAAGvM,MAAM,CAACO,MAAP,CAAc,IAAd,CAAvB;AACAgM,gBAAgB,CAAChF,IAAI,CAACqB,MAAN,CAAhB,GAAgCvK,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4B3D,MAA5D;AACA0D,gBAAgB,CAAChF,IAAI,CAACuB,KAAN,CAAhB,GAA+BzK,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BzD,KAA3D;AACAwD,gBAAgB,CAAChF,IAAI,CAACmB,IAAN,CAAhB,GAA8BrK,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4B7D,IAA1D;AACA4D,gBAAgB,CAAChF,IAAI,CAACyB,SAAN,CAAhB,GAAmC3K,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BvD,SAA/D;AACAsD,gBAAgB,CAAChF,IAAI,CAACc,cAAN,CAAhB,GAAwChK,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4Be,MAApE;AACAhB,gBAAgB,CAAChF,IAAI,CAACS,cAAN,CAAhB,GAAwC3J,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BpD,QAApE;AACAmD,gBAAgB,CAAChF,IAAI,CAACU,iBAAN,CAAhB,GAA2C5J,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BpD,QAAvE;AACAmD,gBAAgB,CAAChF,IAAI,CAACW,iBAAN,CAAhB,GAA2C7J,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BpD,QAAvE;AACAmD,gBAAgB,CAAChF,IAAI,CAACM,QAAN,CAAhB,GAAkCxJ,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BzE,QAA9D;AACAwE,gBAAgB,CAAChF,IAAI,CAAC8F,KAAN,CAAhB,GAA+BhP,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BzE,QAA3D;AACAwE,gBAAgB,CAAChF,IAAI,CAACO,aAAN,CAAhB,GAAuCzJ,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BzE,QAAnE;AACAwE,gBAAgB,CAAChF,IAAI,CAACM,QAAN,CAAhB,GAAkCxJ,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4BzE,QAA9D;AACAwE,gBAAgB,CAAChF,IAAI,CAACa,QAAN,CAAhB,GAAkC/J,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4B/D,QAA9D;AACA8D,gBAAgB,CAAChF,IAAI,CAAC0F,aAAN,CAAhB,GAAuC5O,MAAM,CAACqJ,SAAP,CAAiB8E,UAAjB,CAA4B/D,QAAnE,EACA;;AACA,IAAI+E,YAAY;AAAG;AAAe,UAAU5K,MAAV,EAAkB;AAChDhD,EAAAA,SAAS,CAAC4N,YAAD,EAAe5K,MAAf,CAAT;;AACA,WAAS4K,YAAT,GAAwB;AACpB,WAAO5K,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD8N,EAAAA,YAAY,CAACC,eAAb,GAA+B,UAAUC,OAAV,EAAmB;AAC9C,WAAO;AACHC,MAAAA,mBAAmB,EAAED,OAAO,CAACE,YAD1B;AAEHC,MAAAA,OAAO,EAAEH,OAAO,CAACI,OAFd;AAGHC,MAAAA,UAAU,EAAEL,OAAO,CAACI,OAHjB;AAIHpN,MAAAA,WAAW,EAAEA,WAAW,CAACsN,KAJtB;AAKHC,MAAAA,gBAAgB,EAAE,IALf;AAMHC,MAAAA,8BAA8B,EAAE,IAN7B;AAOHC,MAAAA,wCAAwC,EAAE,IAPvC;AAQHC,MAAAA,wCAAwC,EAAE,IARvC;AASHC,MAAAA,+CAA+C,EAAE,IAT9C;AAUHC,MAAAA,oDAAoD,EAAE,IAVnD;AAWHC,MAAAA,0DAA0D,EAAE,KAXzD;AAYHC,MAAAA,uDAAuD,EAAE,KAZtD;AAaHC,MAAAA,2DAA2D,EAAE,KAb1D;AAcHC,MAAAA,uCAAuC,EAAE,KAdtC;AAeHC,MAAAA,mCAAmC,EAAE;AAflC,KAAP;AAiBH,GAlBD;;AAmBAnB,EAAAA,YAAY,CAACnQ,SAAb,CAAuBuR,mBAAvB,GAA6C,UAAUtP,GAAV,EAAeuP,MAAf,EAAuB;AAChE,WAAO;AACHvN,MAAAA,IAAI,EAAEuN,MAAM,CAACC,OADV;AAEHvI,MAAAA,KAAK,EAAE,KAAKvE,gBAAL,CAAsB1C,GAAtB,EAA2BuP,MAAM,CAAC5M,IAAlC;AAFJ,KAAP;AAIH,GALD;;AAMA,SAAOuL,YAAP;AACH,CA/BiC,CA+BhChM,OA/BgC,CAAlC;;;;AAiCA,IAAIuN,aAAa;AAAG;AAAe,UAAUnM,MAAV,EAAkB;AACjDhD,EAAAA,SAAS,CAACmP,aAAD,EAAgBnM,MAAhB,CAAT;;AACA,WAASmM,aAAT,GAAyB;AACrB,WAAOnM,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDqP,EAAAA,aAAa,CAAC1R,SAAd,CAAwB2R,mCAAxB,GAA8D,UAAU7P,KAAV,EAAiBoH,KAAjB,EAAwBmH,OAAxB,EAAiC5H,KAAjC,EAAwC;AAClG,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAACkQ,0BAAP,CAAkChL,QAAQ,CAACV,QAAT,EAAlC,EAAuDjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkC;AAAE3B,QAAAA,UAAU,EAAEiE,KAAK,CAAClE,eAApB;AAAqCG,QAAAA,MAAM,EAAE+D,KAAK,CAAChE;AAAnD,OAAlC,CAAvD,EAA4JjG,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkC;AAAE3B,QAAAA,UAAU,EAAEiE,KAAK,CAAC9D,aAApB;AAAmCD,QAAAA,MAAM,EAAE+D,KAAK,CAAC7D;AAAjD,OAAlC,CAA5J,EAA6P8K,YAAY,CAACC,eAAb,CAA6BC,OAA7B,CAA7P,CAAP;AACH,KAFM,EAEJ/S,IAFI,CAEC,UAAUuU,KAAV,EAAiB;AACrB,UAAIA,KAAJ,EAAW;AACP,eAAOA,KAAK,CAAC7P,GAAN,CAAU,UAAU8P,IAAV,EAAgB;AAAE,iBAAO7S,KAAK,CAACsS,mBAAN,CAA0B3K,QAA1B,EAAoCkL,IAApC,CAAP;AAAmD,SAA/E,CAAP;AACH;AACJ,KANM,CAAP;AAOH,GAVD;;AAWA,SAAOJ,aAAP;AACH,CAjBkC,CAiBjCvB,YAjBiC,CAAnC;;;;AAmBA,IAAI4B,mBAAmB;AAAG;AAAe,UAAUxM,MAAV,EAAkB;AACvDhD,EAAAA,SAAS,CAACwP,mBAAD,EAAsBxM,MAAtB,CAAT;;AACA,WAASwM,mBAAT,GAA+B;AAC3B,WAAOxM,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDM,EAAAA,MAAM,CAACwF,cAAP,CAAsB4J,mBAAmB,CAAC/R,SAA1C,EAAqD,6BAArD,EAAoF;AAChFoI,IAAAA,GAAG,EAAE,YAAY;AACb,aAAO,CAAC,GAAD,EAAM,GAAN,EAAW,IAAX,CAAP;AACH,KAH+E;AAIhFC,IAAAA,UAAU,EAAE,IAJoE;AAKhFC,IAAAA,YAAY,EAAE;AALkE,GAApF;;AAOAyJ,EAAAA,mBAAmB,CAAC/R,SAApB,CAA8BgS,4BAA9B,GAA6D,UAAUlQ,KAAV,EAAiBuC,QAAjB,EAA2B4N,EAA3B,EAA+B5B,OAA/B,EAAwC5H,KAAxC,EAA+C;AACxG,QAAIxJ,KAAK,GAAG,IAAZ;;AACA,QAAI2H,QAAQ,GAAG9E,KAAK,CAACG,GAArB;AACA,WAAO,KAAK7C,OAAL,CAAawH,QAAb,EAAuBtJ,IAAvB,CAA4B,UAAUoE,MAAV,EAAkB;AACjD,aAAOA,MAAM,CAACwQ,gCAAP,CAAwCtL,QAAQ,CAACV,QAAT,EAAxC,EAA6DjH,KAAK,CAACmF,iBAAN,CAAwBwC,QAAxB,EAAkCvC,QAAlC,CAA7D,EAA0G4N,EAA1G,EAA8G9B,YAAY,CAACC,eAAb,CAA6BC,OAA7B,CAA9G,CAAP;AACH,KAFM,EAEJ/S,IAFI,CAEC,UAAUuU,KAAV,EAAiB;AACrB,UAAIA,KAAJ,EAAW;AACP,eAAOA,KAAK,CAAC7P,GAAN,CAAU,UAAU8P,IAAV,EAAgB;AAAE,iBAAO7S,KAAK,CAACsS,mBAAN,CAA0B3K,QAA1B,EAAoCkL,IAApC,CAAP;AAAmD,SAA/E,CAAP;AACH;AACJ,KANM,CAAP;AAOH,GAVD;;AAWA,SAAOC,mBAAP;AACH,CAxBwC,CAwBvC5B,YAxBuC,CAAzC;;;;AA0BA;AACA,IAAIgC,aAAa;AAAG;AAAe,UAAU5M,MAAV,EAAkB;AACjDhD,EAAAA,SAAS,CAAC4P,aAAD,EAAgB5M,MAAhB,CAAT;;AACA,WAAS4M,aAAT,GAAyB;AACrB,WAAO5M,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAAChI,KAAP,CAAa,IAAb,EAAmB8E,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACD8P,EAAAA,aAAa,CAACnS,SAAd,CAAwBoS,kBAAxB,GAA6C,UAAUtQ,KAAV,EAAiBuC,QAAjB,EAA2BgO,OAA3B,EAAoC5J,KAApC,EAA2C;AACpF,WAAOpM,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAIuK,QAAJ,EAAc0H,QAAd,EAAwB7J,MAAxB,EAAgC/C,MAAhC,EAAwC4Q,UAAxC,EAAoDC,eAApD,EAAqEC,6BAArE,EAAoGX,KAApG,EAA2GzP,EAA3G,EAA+GqQ,iBAA/G,EAAkIC,cAAlI,EAAkJC,gBAAlJ;;AACA,aAAOnV,WAAW,CAAC,IAAD,EAAO,UAAU8C,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAAC3C,KAAX;AACI,eAAK,CAAL;AACIiJ,YAAAA,QAAQ,GAAG9E,KAAK,CAACG,GAAjB;AACAqM,YAAAA,QAAQ,GAAG1H,QAAQ,CAACV,QAAT,EAAX;AACAzB,YAAAA,MAAM,GAAG,KAAKL,iBAAL,CAAuBwC,QAAvB,EAAiCvC,QAAjC,CAAT;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKjF,OAAL,CAAawH,QAAb,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIlF,YAAAA,MAAM,GAAGpB,EAAE,CAAC1C,IAAH,EAAT;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc8D,MAAM,CAACkR,aAAP,CAAqBtE,QAArB,EAA+B7J,MAA/B,EAAuC;AAAEoO,cAAAA,uBAAuB,EAAE;AAA3B,aAAvC,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIP,YAAAA,UAAU,GAAGhS,EAAE,CAAC1C,IAAH,EAAb;;AACA,gBAAI0U,UAAU,CAACQ,SAAX,KAAyB,KAA7B,EAAoC;AAAE;AAClC,qBAAO,CAAC;AAAE;AAAH,gBAAe;AACdjB,gBAAAA,KAAK,EAAE,EADO;AAEdkB,gBAAAA,YAAY,EAAET,UAAU,CAACU;AAFX,eAAf,CAAP;AAIH;;AACD,gBAAIV,UAAU,CAACW,YAAX,KAA4BvP,SAAhC,EAA2C;AACvC,oBAAM,IAAIsE,KAAJ,CAAU,kCAAV,CAAN;AACH;;AACD,mBAAO,CAAC;AAAE;AAAH,cAActG,MAAM,CAACwR,mBAAP,CAA2B5E,QAA3B,EAAqC7J,MAArC;AAA6C;AAAY,iBAAzD;AAAgE;AAAa,iBAA7E;AAAoF;AAAoB,iBAAxG,CAAd,CAAP;;AACJ,eAAK,CAAL;AACI8N,YAAAA,eAAe,GAAGjS,EAAE,CAAC1C,IAAH,EAAlB;AACA4U,YAAAA,6BAA6B,GAAG,EAAhC;AACAX,YAAAA,KAAK,GAAG,EAAR;;AACA,iBAAKzP,EAAE,GAAG,CAAL,EAAQqQ,iBAAiB,GAAGF,eAAjC,EAAkDnQ,EAAE,GAAGqQ,iBAAiB,CAAC7T,MAAzE,EAAiFwD,EAAE,EAAnF,EAAuF;AACnFsQ,cAAAA,cAAc,GAAGD,iBAAiB,CAACrQ,EAAD,CAAlC;;AACA,kBAAI,EAAEsQ,cAAc,CAACpE,QAAf,IAA2BkE,6BAA7B,CAAJ,EAAiE;AAC7DG,gBAAAA,gBAAgB,GAAG;AACfd,kBAAAA,KAAK,EAAE,EADQ;AAEfjL,kBAAAA,QAAQ,EAAE5F,MAAM,CAACmC,GAAP,CAAWkL,KAAX,CAAiBqE,cAAc,CAACpE,QAAhC;AAFK,iBAAnB;AAIAkE,gBAAAA,6BAA6B,CAACE,cAAc,CAACpE,QAAhB,CAA7B,GAAyDqE,gBAAzD;AACAd,gBAAAA,KAAK,CAAChT,IAAN,CAAW8T,gBAAX;AACH;;AACDH,cAAAA,6BAA6B,CAACE,cAAc,CAACpE,QAAhB,CAA7B,CAAuDuD,KAAvD,CAA6DhT,IAA7D,CAAkE;AAC9DqK,gBAAAA,KAAK,EAAE,KAAKvE,gBAAL,CAAsBiC,QAAtB,EAAgC8L,cAAc,CAACjF,QAA/C,CADuD;AAE9DxJ,gBAAAA,IAAI,EAAEoO;AAFwD,eAAlE;AAIH;;AACD,mBAAO,CAAC;AAAE;AAAH,cAAe;AAAER,cAAAA,KAAK,EAAEA;AAAT,aAAf,CAAP;AAxCR;AA0CH,OA3CiB,CAAlB;AA4CH,KA9Ce,CAAhB;AA+CH,GAhDD;;AAiDA,SAAOM,aAAP;AACH,CAvDkC,CAuDjChO,OAvDiC,CAAnC","file":"tsMode.36fe6354.js","sourceRoot":"..","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(modeId, defaults) {\n        var _this = this;\n        this._modeId = modeId;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n        this._updateExtraLibsToken = 0;\n        this._extraLibsChangeListener = this._defaults.onDidExtraLibsChange(function () { return _this._updateExtraLibs(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._extraLibsChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._updateExtraLibs = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var myToken, proxy;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._worker) {\n                            return [2 /*return*/];\n                        }\n                        myToken = ++this._updateExtraLibsToken;\n                        return [4 /*yield*/, this._worker.getProxy()];\n                    case 1:\n                        proxy = _a.sent();\n                        if (this._updateExtraLibsToken !== myToken) {\n                            // avoid multiple calls\n                            return [2 /*return*/];\n                        }\n                        proxy.updateExtraLibs(this._defaults.getExtraLibs());\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var maxIdleTime = this._defaults.getWorkerMaxIdleTime();\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (maxIdleTime > 0 && timePassedSinceLastUsed > maxIdleTime) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        var _this = this;\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `TypeScriptWorker` instance\n                moduleId: 'vs/language/typescript/tsWorker',\n                label: this._modeId,\n                // passed in to the create() method\n                createData: {\n                    compilerOptions: this._defaults.getCompilerOptions(),\n                    extraLibs: this._defaults.getExtraLibs()\n                }\n            });\n            var p = this._worker.getProxy();\n            if (this._defaults.getEagerModelSync()) {\n                p = p.then(function (worker) {\n                    return _this._worker.withSyncedResources(monaco.editor.getModels()\n                        .filter(function (model) { return model.getModeId() === _this._modeId; })\n                        .map(function (model) { return model.uri; }));\n                });\n            }\n            this._client = p;\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; });\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar Uri = monaco.Uri;\nvar Range = monaco.Range;\n//#region utils copied from typescript to prevent loading the entire typescriptServices ---\nvar IndentStyle;\n(function (IndentStyle) {\n    IndentStyle[IndentStyle[\"None\"] = 0] = \"None\";\n    IndentStyle[IndentStyle[\"Block\"] = 1] = \"Block\";\n    IndentStyle[IndentStyle[\"Smart\"] = 2] = \"Smart\";\n})(IndentStyle || (IndentStyle = {}));\nexport function flattenDiagnosticMessageText(diag, newLine, indent) {\n    if (indent === void 0) { indent = 0; }\n    if (typeof diag === \"string\") {\n        return diag;\n    }\n    else if (diag === undefined) {\n        return \"\";\n    }\n    var result = \"\";\n    if (indent) {\n        result += newLine;\n        for (var i = 0; i < indent; i++) {\n            result += \"  \";\n        }\n    }\n    result += diag.messageText;\n    indent++;\n    if (diag.next) {\n        for (var _i = 0, _a = diag.next; _i < _a.length; _i++) {\n            var kid = _a[_i];\n            result += flattenDiagnosticMessageText(kid, newLine, indent);\n        }\n    }\n    return result;\n}\nfunction displayPartsToString(displayParts) {\n    if (displayParts) {\n        return displayParts.map(function (displayPart) { return displayPart.text; }).join(\"\");\n    }\n    return \"\";\n}\n//#endregion\nvar Adapter = /** @class */ (function () {\n    function Adapter(_worker) {\n        this._worker = _worker;\n    }\n    Adapter.prototype._positionToOffset = function (uri, position) {\n        var model = monaco.editor.getModel(uri);\n        return model.getOffsetAt(position);\n    };\n    Adapter.prototype._offsetToPosition = function (uri, offset) {\n        var model = monaco.editor.getModel(uri);\n        return model.getPositionAt(offset);\n    };\n    Adapter.prototype._textSpanToRange = function (uri, span) {\n        var p1 = this._offsetToPosition(uri, span.start);\n        var p2 = this._offsetToPosition(uri, span.start + span.length);\n        var startLineNumber = p1.lineNumber, startColumn = p1.column;\n        var endLineNumber = p2.lineNumber, endColumn = p2.column;\n        return { startLineNumber: startLineNumber, startColumn: startColumn, endLineNumber: endLineNumber, endColumn: endColumn };\n    };\n    return Adapter;\n}());\nexport { Adapter };\n// --- diagnostics --- ---\nvar DiagnostcsAdapter = /** @class */ (function (_super) {\n    __extends(DiagnostcsAdapter, _super);\n    function DiagnostcsAdapter(_defaults, _selector, worker) {\n        var _this = _super.call(this, worker) || this;\n        _this._defaults = _defaults;\n        _this._selector = _selector;\n        _this._disposables = [];\n        _this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            if (model.getModeId() !== _selector) {\n                return;\n            }\n            var handle;\n            var changeSubscription = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri); }, 500);\n            });\n            _this._listener[model.uri.toString()] = {\n                dispose: function () {\n                    changeSubscription.dispose();\n                    clearTimeout(handle);\n                }\n            };\n            _this._doValidate(model.uri);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._selector, []);\n            var key = model.uri.toString();\n            if (_this._listener[key]) {\n                _this._listener[key].dispose();\n                delete _this._listener[key];\n            }\n        };\n        _this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        _this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\n        _this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        _this._disposables.push({\n            dispose: function () {\n                for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                    var model = _a[_i];\n                    onModelRemoved(model);\n                }\n            }\n        });\n        var recomputeDiagostics = function () {\n            // redo diagnostics when options change\n            for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                var model = _a[_i];\n                onModelRemoved(model);\n                onModelAdd(model);\n            }\n        };\n        _this._disposables.push(_this._defaults.onDidChange(recomputeDiagostics));\n        _this._disposables.push(_this._defaults.onDidExtraLibsChange(recomputeDiagostics));\n        monaco.editor.getModels().forEach(onModelAdd);\n        return _this;\n    }\n    DiagnostcsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnostcsAdapter.prototype._doValidate = function (resource) {\n        var _this = this;\n        this._worker(resource).then(function (worker) {\n            if (!monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var promises = [];\n            var _a = _this._defaults.getDiagnosticsOptions(), noSyntaxValidation = _a.noSyntaxValidation, noSemanticValidation = _a.noSemanticValidation;\n            if (!noSyntaxValidation) {\n                promises.push(worker.getSyntacticDiagnostics(resource.toString()));\n            }\n            if (!noSemanticValidation) {\n                promises.push(worker.getSemanticDiagnostics(resource.toString()));\n            }\n            return Promise.all(promises);\n        }).then(function (diagnostics) {\n            if (!diagnostics || !monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var markers = diagnostics\n                .reduce(function (p, c) { return c.concat(p); }, [])\n                .map(function (d) { return _this._convertDiagnostics(resource, d); });\n            monaco.editor.setModelMarkers(monaco.editor.getModel(resource), _this._selector, markers);\n        }).then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    DiagnostcsAdapter.prototype._convertDiagnostics = function (resource, diag) {\n        var _a = this._offsetToPosition(resource, diag.start), startLineNumber = _a.lineNumber, startColumn = _a.column;\n        var _b = this._offsetToPosition(resource, diag.start + diag.length), endLineNumber = _b.lineNumber, endColumn = _b.column;\n        return {\n            severity: monaco.MarkerSeverity.Error,\n            startLineNumber: startLineNumber,\n            startColumn: startColumn,\n            endLineNumber: endLineNumber,\n            endColumn: endColumn,\n            message: flattenDiagnosticMessageText(diag.messageText, '\\n')\n        };\n    };\n    return DiagnostcsAdapter;\n}(Adapter));\nexport { DiagnostcsAdapter };\nvar SuggestAdapter = /** @class */ (function (_super) {\n    __extends(SuggestAdapter, _super);\n    function SuggestAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(SuggestAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return ['.'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SuggestAdapter.prototype.provideCompletionItems = function (model, position, _context, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n        var resource = model.uri;\n        var offset = this._positionToOffset(resource, position);\n        return this._worker(resource).then(function (worker) {\n            return worker.getCompletionsAtPosition(resource.toString(), offset);\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var suggestions = info.entries.map(function (entry) {\n                var range = wordRange;\n                if (entry.replacementSpan) {\n                    var p1 = model.getPositionAt(entry.replacementSpan.start);\n                    var p2 = model.getPositionAt(entry.replacementSpan.start + entry.replacementSpan.length);\n                    range = new Range(p1.lineNumber, p1.column, p2.lineNumber, p2.column);\n                }\n                return {\n                    uri: resource,\n                    position: position,\n                    range: range,\n                    label: entry.name,\n                    insertText: entry.name,\n                    sortText: entry.sortText,\n                    kind: SuggestAdapter.convertKind(entry.kind)\n                };\n            });\n            return {\n                suggestions: suggestions\n            };\n        });\n    };\n    SuggestAdapter.prototype.resolveCompletionItem = function (_model, _position, item, token) {\n        var _this = this;\n        var myItem = item;\n        var resource = myItem.uri;\n        var position = myItem.position;\n        return this._worker(resource).then(function (worker) {\n            return worker.getCompletionEntryDetails(resource.toString(), _this._positionToOffset(resource, position), myItem.label);\n        }).then(function (details) {\n            if (!details) {\n                return myItem;\n            }\n            return {\n                uri: resource,\n                position: position,\n                label: details.name,\n                kind: SuggestAdapter.convertKind(details.kind),\n                detail: displayPartsToString(details.displayParts),\n                documentation: {\n                    value: displayPartsToString(details.documentation)\n                }\n            };\n        });\n    };\n    SuggestAdapter.convertKind = function (kind) {\n        switch (kind) {\n            case Kind.primitiveType:\n            case Kind.keyword:\n                return monaco.languages.CompletionItemKind.Keyword;\n            case Kind.variable:\n            case Kind.localVariable:\n                return monaco.languages.CompletionItemKind.Variable;\n            case Kind.memberVariable:\n            case Kind.memberGetAccessor:\n            case Kind.memberSetAccessor:\n                return monaco.languages.CompletionItemKind.Field;\n            case Kind.function:\n            case Kind.memberFunction:\n            case Kind.constructSignature:\n            case Kind.callSignature:\n            case Kind.indexSignature:\n                return monaco.languages.CompletionItemKind.Function;\n            case Kind.enum:\n                return monaco.languages.CompletionItemKind.Enum;\n            case Kind.module:\n                return monaco.languages.CompletionItemKind.Module;\n            case Kind.class:\n                return monaco.languages.CompletionItemKind.Class;\n            case Kind.interface:\n                return monaco.languages.CompletionItemKind.Interface;\n            case Kind.warning:\n                return monaco.languages.CompletionItemKind.File;\n        }\n        return monaco.languages.CompletionItemKind.Property;\n    };\n    return SuggestAdapter;\n}(Adapter));\nexport { SuggestAdapter };\nvar SignatureHelpAdapter = /** @class */ (function (_super) {\n    __extends(SignatureHelpAdapter, _super);\n    function SignatureHelpAdapter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.signatureHelpTriggerCharacters = ['(', ','];\n        return _this;\n    }\n    SignatureHelpAdapter.prototype.provideSignatureHelp = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) { return worker.getSignatureHelpItems(resource.toString(), _this._positionToOffset(resource, position)); }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var ret = {\n                activeSignature: info.selectedItemIndex,\n                activeParameter: info.argumentIndex,\n                signatures: []\n            };\n            info.items.forEach(function (item) {\n                var signature = {\n                    label: '',\n                    parameters: []\n                };\n                signature.label += displayPartsToString(item.prefixDisplayParts);\n                item.parameters.forEach(function (p, i, a) {\n                    var label = displayPartsToString(p.displayParts);\n                    var parameter = {\n                        label: label,\n                        documentation: displayPartsToString(p.documentation)\n                    };\n                    signature.label += label;\n                    signature.parameters.push(parameter);\n                    if (i < a.length - 1) {\n                        signature.label += displayPartsToString(item.separatorDisplayParts);\n                    }\n                });\n                signature.label += displayPartsToString(item.suffixDisplayParts);\n                ret.signatures.push(signature);\n            });\n            return {\n                value: ret,\n                dispose: function () { }\n            };\n        });\n    };\n    return SignatureHelpAdapter;\n}(Adapter));\nexport { SignatureHelpAdapter };\n// --- hover ------\nvar QuickInfoAdapter = /** @class */ (function (_super) {\n    __extends(QuickInfoAdapter, _super);\n    function QuickInfoAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    QuickInfoAdapter.prototype.provideHover = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getQuickInfoAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var documentation = displayPartsToString(info.documentation);\n            var tags = info.tags ? info.tags.map(function (tag) {\n                var label = \"*@\" + tag.name + \"*\";\n                if (!tag.text) {\n                    return label;\n                }\n                return label + (tag.text.match(/\\r\\n|\\n/g) ? ' \\n' + tag.text : \" - \" + tag.text);\n            })\n                .join('  \\n\\n') : '';\n            var contents = displayPartsToString(info.displayParts);\n            return {\n                range: _this._textSpanToRange(resource, info.textSpan),\n                contents: [{\n                        value: '```js\\n' + contents + '\\n```\\n'\n                    }, {\n                        value: documentation + (tags ? '\\n\\n' + tags : '')\n                    }]\n            };\n        });\n    };\n    return QuickInfoAdapter;\n}(Adapter));\nexport { QuickInfoAdapter };\n// --- occurrences ------\nvar OccurrencesAdapter = /** @class */ (function (_super) {\n    __extends(OccurrencesAdapter, _super);\n    function OccurrencesAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OccurrencesAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getOccurrencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: _this._textSpanToRange(resource, entry.textSpan),\n                    kind: entry.isWriteAccess ? monaco.languages.DocumentHighlightKind.Write : monaco.languages.DocumentHighlightKind.Text\n                };\n            });\n        });\n    };\n    return OccurrencesAdapter;\n}(Adapter));\nexport { OccurrencesAdapter };\n// --- definition ------\nvar DefinitionAdapter = /** @class */ (function (_super) {\n    __extends(DefinitionAdapter, _super);\n    function DefinitionAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getDefinitionAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        });\n    };\n    return DefinitionAdapter;\n}(Adapter));\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function (_super) {\n    __extends(ReferenceAdapter, _super);\n    function ReferenceAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getReferencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n                var entry = entries_2[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        });\n    };\n    return ReferenceAdapter;\n}(Adapter));\nexport { ReferenceAdapter };\n// --- outline ------\nvar OutlineAdapter = /** @class */ (function (_super) {\n    __extends(OutlineAdapter, _super);\n    function OutlineAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OutlineAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) { return worker.getNavigationBarItems(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            var convert = function (bucket, item, containerLabel) {\n                var result = {\n                    name: item.text,\n                    detail: '',\n                    kind: (outlineTypeTable[item.kind] || monaco.languages.SymbolKind.Variable),\n                    range: _this._textSpanToRange(resource, item.spans[0]),\n                    selectionRange: _this._textSpanToRange(resource, item.spans[0]),\n                    tags: [],\n                    containerName: containerLabel\n                };\n                if (item.childItems && item.childItems.length > 0) {\n                    for (var _i = 0, _a = item.childItems; _i < _a.length; _i++) {\n                        var child = _a[_i];\n                        convert(bucket, child, result.name);\n                    }\n                }\n                bucket.push(result);\n            };\n            var result = [];\n            items.forEach(function (item) { return convert(result, item); });\n            return result;\n        });\n    };\n    return OutlineAdapter;\n}(Adapter));\nexport { OutlineAdapter };\nvar Kind = /** @class */ (function () {\n    function Kind() {\n    }\n    Kind.unknown = '';\n    Kind.keyword = 'keyword';\n    Kind.script = 'script';\n    Kind.module = 'module';\n    Kind.class = 'class';\n    Kind.interface = 'interface';\n    Kind.type = 'type';\n    Kind.enum = 'enum';\n    Kind.variable = 'var';\n    Kind.localVariable = 'local var';\n    Kind.function = 'function';\n    Kind.localFunction = 'local function';\n    Kind.memberFunction = 'method';\n    Kind.memberGetAccessor = 'getter';\n    Kind.memberSetAccessor = 'setter';\n    Kind.memberVariable = 'property';\n    Kind.constructorImplementation = 'constructor';\n    Kind.callSignature = 'call';\n    Kind.indexSignature = 'index';\n    Kind.constructSignature = 'construct';\n    Kind.parameter = 'parameter';\n    Kind.typeParameter = 'type parameter';\n    Kind.primitiveType = 'primitive type';\n    Kind.label = 'label';\n    Kind.alias = 'alias';\n    Kind.const = 'const';\n    Kind.let = 'let';\n    Kind.warning = 'warning';\n    return Kind;\n}());\nexport { Kind };\nvar outlineTypeTable = Object.create(null);\noutlineTypeTable[Kind.module] = monaco.languages.SymbolKind.Module;\noutlineTypeTable[Kind.class] = monaco.languages.SymbolKind.Class;\noutlineTypeTable[Kind.enum] = monaco.languages.SymbolKind.Enum;\noutlineTypeTable[Kind.interface] = monaco.languages.SymbolKind.Interface;\noutlineTypeTable[Kind.memberFunction] = monaco.languages.SymbolKind.Method;\noutlineTypeTable[Kind.memberVariable] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberGetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberSetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.const] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.localVariable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.function] = monaco.languages.SymbolKind.Function;\noutlineTypeTable[Kind.localFunction] = monaco.languages.SymbolKind.Function;\n// --- formatting ----\nvar FormatHelper = /** @class */ (function (_super) {\n    __extends(FormatHelper, _super);\n    function FormatHelper() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatHelper._convertOptions = function (options) {\n        return {\n            ConvertTabsToSpaces: options.insertSpaces,\n            TabSize: options.tabSize,\n            IndentSize: options.tabSize,\n            IndentStyle: IndentStyle.Smart,\n            NewLineCharacter: '\\n',\n            InsertSpaceAfterCommaDelimiter: true,\n            InsertSpaceAfterSemicolonInForStatements: true,\n            InsertSpaceBeforeAndAfterBinaryOperators: true,\n            InsertSpaceAfterKeywordsInControlFlowStatements: true,\n            InsertSpaceAfterFunctionKeywordForAnonymousFunctions: true,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis: false,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets: false,\n            InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces: false,\n            PlaceOpenBraceOnNewLineForControlBlocks: false,\n            PlaceOpenBraceOnNewLineForFunctions: false\n        };\n    };\n    FormatHelper.prototype._convertTextChanges = function (uri, change) {\n        return {\n            text: change.newText,\n            range: this._textSpanToRange(uri, change.span)\n        };\n    };\n    return FormatHelper;\n}(Adapter));\nexport { FormatHelper };\nvar FormatAdapter = /** @class */ (function (_super) {\n    __extends(FormatAdapter, _super);\n    function FormatAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatAdapter.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsForRange(resource.toString(), _this._positionToOffset(resource, { lineNumber: range.startLineNumber, column: range.startColumn }), _this._positionToOffset(resource, { lineNumber: range.endLineNumber, column: range.endColumn }), FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        });\n    };\n    return FormatAdapter;\n}(FormatHelper));\nexport { FormatAdapter };\nvar FormatOnTypeAdapter = /** @class */ (function (_super) {\n    __extends(FormatOnTypeAdapter, _super);\n    function FormatOnTypeAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FormatOnTypeAdapter.prototype, \"autoFormatTriggerCharacters\", {\n        get: function () {\n            return [';', '}', '\\n'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FormatOnTypeAdapter.prototype.provideOnTypeFormattingEdits = function (model, position, ch, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsAfterKeystroke(resource.toString(), _this._positionToOffset(resource, position), ch, FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        });\n    };\n    return FormatOnTypeAdapter;\n}(FormatHelper));\nexport { FormatOnTypeAdapter };\n// --- rename ----\nvar RenameAdapter = /** @class */ (function (_super) {\n    __extends(RenameAdapter, _super);\n    function RenameAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resource, fileName, offset, worker, renameInfo, renameLocations, fileNameToResourceTextEditMap, edits, _i, renameLocations_1, renameLocation, resourceTextEdit;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        resource = model.uri;\n                        fileName = resource.toString();\n                        offset = this._positionToOffset(resource, position);\n                        return [4 /*yield*/, this._worker(resource)];\n                    case 1:\n                        worker = _a.sent();\n                        return [4 /*yield*/, worker.getRenameInfo(fileName, offset, { allowRenameOfImportPath: false })];\n                    case 2:\n                        renameInfo = _a.sent();\n                        if (renameInfo.canRename === false) { // use explicit comparison so that the discriminated union gets resolved properly\n                            return [2 /*return*/, {\n                                    edits: [],\n                                    rejectReason: renameInfo.localizedErrorMessage\n                                }];\n                        }\n                        if (renameInfo.fileToRename !== undefined) {\n                            throw new Error(\"Renaming files is not supported.\");\n                        }\n                        return [4 /*yield*/, worker.findRenameLocations(fileName, offset, /*strings*/ false, /*comments*/ false, /*prefixAndSuffix*/ false)];\n                    case 3:\n                        renameLocations = _a.sent();\n                        fileNameToResourceTextEditMap = {};\n                        edits = [];\n                        for (_i = 0, renameLocations_1 = renameLocations; _i < renameLocations_1.length; _i++) {\n                            renameLocation = renameLocations_1[_i];\n                            if (!(renameLocation.fileName in fileNameToResourceTextEditMap)) {\n                                resourceTextEdit = {\n                                    edits: [],\n                                    resource: monaco.Uri.parse(renameLocation.fileName)\n                                };\n                                fileNameToResourceTextEditMap[renameLocation.fileName] = resourceTextEdit;\n                                edits.push(resourceTextEdit);\n                            }\n                            fileNameToResourceTextEditMap[renameLocation.fileName].edits.push({\n                                range: this._textSpanToRange(resource, renameLocation.textSpan),\n                                text: newName\n                            });\n                        }\n                        return [2 /*return*/, { edits: edits }];\n                }\n            });\n        });\n    };\n    return RenameAdapter;\n}(Adapter));\nexport { RenameAdapter };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nvar javaScriptWorker;\nvar typeScriptWorker;\nexport function setupTypeScript(defaults) {\n    typeScriptWorker = setupMode(defaults, 'typescript');\n}\nexport function setupJavaScript(defaults) {\n    javaScriptWorker = setupMode(defaults, 'javascript');\n}\nexport function getJavaScriptWorker() {\n    return new Promise(function (resolve, reject) {\n        if (!javaScriptWorker) {\n            return reject(\"JavaScript not registered!\");\n        }\n        resolve(javaScriptWorker);\n    });\n}\nexport function getTypeScriptWorker() {\n    return new Promise(function (resolve, reject) {\n        if (!typeScriptWorker) {\n            return reject(\"TypeScript not registered!\");\n        }\n        resolve(typeScriptWorker);\n    });\n}\nfunction setupMode(defaults, modeId) {\n    var client = new WorkerManager(modeId, defaults);\n    var worker = function (first) {\n        var more = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            more[_i - 1] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, [first].concat(more));\n    };\n    monaco.languages.registerCompletionItemProvider(modeId, new languageFeatures.SuggestAdapter(worker));\n    monaco.languages.registerSignatureHelpProvider(modeId, new languageFeatures.SignatureHelpAdapter(worker));\n    monaco.languages.registerHoverProvider(modeId, new languageFeatures.QuickInfoAdapter(worker));\n    monaco.languages.registerDocumentHighlightProvider(modeId, new languageFeatures.OccurrencesAdapter(worker));\n    monaco.languages.registerDefinitionProvider(modeId, new languageFeatures.DefinitionAdapter(worker));\n    monaco.languages.registerReferenceProvider(modeId, new languageFeatures.ReferenceAdapter(worker));\n    monaco.languages.registerDocumentSymbolProvider(modeId, new languageFeatures.OutlineAdapter(worker));\n    monaco.languages.registerDocumentRangeFormattingEditProvider(modeId, new languageFeatures.FormatAdapter(worker));\n    monaco.languages.registerOnTypeFormattingEditProvider(modeId, new languageFeatures.FormatOnTypeAdapter(worker));\n    monaco.languages.registerRenameProvider(modeId, new languageFeatures.RenameAdapter(worker));\n    new languageFeatures.DiagnostcsAdapter(defaults, modeId, worker);\n    return worker;\n}\n"]}